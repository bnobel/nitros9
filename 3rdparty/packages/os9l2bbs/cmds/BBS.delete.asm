         nam   BBS.delete
         ttl   program module       

* Disassembled 2010/01/24 10:31:28 by Disasm v1.5 (C) 1988 by RML

         ifp1
         use   /dd/defs/defsfile
         endc
tylg     set   Prgrm+Objct   
atrv     set   ReEnt+rev
rev      set   $01
         mod   eom,name,tylg,atrv,start,size
u0000    rmb   1
u0001    rmb   1
u0002    rmb   1
u0003    rmb   4
u0007    rmb   1
u0008    rmb   1
u0009    rmb   2
u000B    rmb   12
u0017    rmb   1
u0018    rmb   6
u001E    rmb   1
u001F    rmb   1
u0020    rmb   11
u002B    rmb   64
u006B    rmb   60
u00A7    rmb   204
size     equ   .
name     equ   *
         fcs   /BBS.delete/
         fcb   $43 C
         fcb   $6F o
         fcb   $70 p
         fcb   $79 y
         fcb   $72 r
         fcb   $69 i
         fcb   $67 g
         fcb   $68 h
         fcb   $74 t
         fcb   $20 
         fcb   $28 (
         fcb   $43 C
         fcb   $29 )
         fcb   $20 
         fcb   $31 1
         fcb   $39 9
         fcb   $38 8
         fcb   $38 8
         fcb   $42 B
         fcb   $79 y
         fcb   $20 
         fcb   $4B K
         fcb   $65 e
         fcb   $69 i
         fcb   $74 t
         fcb   $68 h
         fcb   $20 
         fcb   $41 A
         fcb   $6C l
         fcb   $70 p
         fcb   $68 h
         fcb   $6F o
         fcb   $6E n
         fcb   $73 s
         fcb   $6F o
         fcb   $4C L
         fcb   $69 i
         fcb   $63 c
         fcb   $65 e
         fcb   $6E n
         fcb   $63 c
         fcb   $65 e
         fcb   $64 d
         fcb   $20 
         fcb   $74 t
         fcb   $6F o
         fcb   $20 
         fcb   $41 A
         fcb   $6C l
         fcb   $70 p
         fcb   $68 h
         fcb   $61 a
         fcb   $20 
         fcb   $53 S
         fcb   $6F o
         fcb   $66 f
         fcb   $74 t
         fcb   $77 w
         fcb   $61 a
         fcb   $72 r
         fcb   $65 e
         fcb   $20 
         fcb   $54 T
         fcb   $65 e
         fcb   $63 c
         fcb   $68 h
         fcb   $6E n
         fcb   $6F o
         fcb   $6C l
         fcb   $6F o
         fcb   $67 g
         fcb   $69 i
         fcb   $65 e
         fcb   $73 s
         fcb   $41 A
         fcb   $6C l
         fcb   $6C l
         fcb   $20 
         fcb   $72 r
         fcb   $69 i
         fcb   $67 g
         fcb   $68 h
         fcb   $74 t
         fcb   $73 s
         fcb   $20 
         fcb   $72 r
         fcb   $65 e
         fcb   $73 s
         fcb   $65 e
         fcb   $72 r
         fcb   $76 v
         fcb   $65 e
         fcb   $64 d
         fcb   $EC l
         fcb   $E6 f
         fcb   $EA j
         fcb   $F5 u
         fcb   $E9 i
         fcb   $A0 
         fcb   $E2 b
         fcb   $ED m
         fcb   $F1 q
         fcb   $E9 i
         fcb   $F0 p
         fcb   $EF o
         fcb   $F4 t
         fcb   $F0 p
L0082    fcb   $48 H
         fcb   $69 i
         fcb   $67 g
         fcb   $68 h
         fcb   $20 
         fcb   $6D m
         fcb   $65 e
         fcb   $73 s
         fcb   $73 s
         fcb   $61 a
         fcb   $67 g
         fcb   $65 e
         fcb   $20 
         fcb   $69 i
         fcb   $73 s
         fcb   $20 
         fcb   $23 #
L0093    fcb   $00 
         fcb   $11 
L0095    fcb   $45 E
         fcb   $6E n
         fcb   $74 t
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $6D m
         fcb   $65 e
         fcb   $73 s
         fcb   $73 s
         fcb   $61 a
         fcb   $67 g
         fcb   $65 e
         fcb   $20 
         fcb   $6E n
         fcb   $75 u
         fcb   $6D m
         fcb   $62 b
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $74 t
         fcb   $6F o
         fcb   $20 
         fcb   $64 d
         fcb   $65 e
         fcb   $6C l
         fcb   $65 e
         fcb   $74 t
         fcb   $65 e
         fcb   $0D 
L00B4    fcb   $3E >
         fcb   $4D M
         fcb   $73 s
         fcb   $67 g
         fcb   $20 
         fcb   $23 #
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $55 U
         fcb   $73 s
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $6E n
         fcb   $61 a
         fcb   $6D m
         fcb   $65 e
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $44 D
         fcb   $61 a
         fcb   $74 t
         fcb   $65 e
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $53 S
         fcb   $75 u
         fcb   $62 b
         fcb   $6A j
         fcb   $65 e
         fcb   $63 c
         fcb   $74 t
         fcb   $0D 
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $0D 
L0139    fcb   $42 B
         fcb   $42 B
         fcb   $53 S
         fcb   $2E .
         fcb   $6D m
         fcb   $73 s
         fcb   $67 g
         fcb   $2E .
         fcb   $69 i
         fcb   $6E n
         fcb   $78 x
         fcb   $0D 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
L016C    fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $2A *
         fcb   $2A *
         fcb   $2A *
         fcb   $2A *
         fcb   $2A *
         fcb   $2A *
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $44 D
         fcb   $45 E
         fcb   $4C L
         fcb   $45 E
         fcb   $54 T
         fcb   $45 E
         fcb   $44 D
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $2A *
         fcb   $2A *
         fcb   $2A *
         fcb   $2A *
         fcb   $2A *
         fcb   $2A *
         fcb   $0D 
L0190    fcb   $53 S
         fcb   $6F o
         fcb   $72 r
         fcb   $72 r
         fcb   $79 y
         fcb   $2C ,
         fcb   $20 
         fcb   $79 y
         fcb   $6F o
         fcb   $75 u
         fcb   $20 
         fcb   $63 c
         fcb   $61 a
         fcb   $6E n
         fcb   $6E n
         fcb   $6F o
         fcb   $74 t
         fcb   $20 
         fcb   $64 d
         fcb   $65 e
         fcb   $6C l
         fcb   $65 e
         fcb   $74 t
         fcb   $65 e
         fcb   $20 
         fcb   $74 t
         fcb   $68 h
         fcb   $61 a
         fcb   $74 t
         fcb   $20 
         fcb   $6D m
         fcb   $65 e
         fcb   $73 s
         fcb   $73 s
         fcb   $61 a
         fcb   $67 g
         fcb   $65 e
         fcb   $0D 
start    equ   *
         os9   F$ID     
         sty   u0003,u
         ldy   #$0000
         os9   F$SUser  
         leax  >L0139,pcr
         lda   #$03
         os9   I$Open   
         lbcs  L02C4
         sta   ,u
         leax  <u002B,u
         ldy   #$0040
         lda   ,u
         os9   I$Read   
         lbcs  L02C4
         ldd   <u002B,u
         leax  u000B,u
         lbsr  L0347
         leax  >L0082,pcr
         ldy   >L0093,pcr
         lda   #$01
         os9   I$Write  
         lbcs  L02C4
         leax  u000B,u
         ldy   #$0006
         os9   I$WritLn 
         lbcs  L02C4
         leax  >L0095,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         lbcs  L02C4
         leax  >L00B4,pcr
         ldy   #$0001
         os9   I$Write  
         lbcs  L02C4
         leax  <u0018,u
         ldy   #$0006
         clra  
         os9   I$ReadLn 
         lbcs  L02C4
         clr   <u0017,u
         leax  <u0018,u
         lda   #$0D
         sta   $02,x
         lbsr  L02E0
         cmpd  #$0001
         lbcs  L02C3
         cmpd  <u002B,u
         lbhi  L02C3
         std   u000B,u
         ldy   u0003,u
         beq   L0276
         bsr   L0298
         leax  <u006B,u
         ldy   #$0040
         lda   ,u
         os9   I$Read   
         ldy   u0003,u
         cmpy  >u00A7,u
         lbne  L02D1
L0276    bsr   L0298
         leax  <u006B,u
         ldd   #$FFFF
         std   ,x
         ldy   #$0040
         lda   ,u
         os9   I$Write  
         leax  >L016C,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         bra   L02C3
L0298    clr   <u001E,u
         clr   <u001F,u
         lda   #$06
         sta   u0001,u
         ldd   u000B,u
L02A4    lslb  
         rola  
         rol   <u001F,u
         dec   u0001,u
         bne   L02A4
         std   <u0020,u
         ldx   <u001E,u
         lda   ,u
         pshs  u
         ldu   <u0020,u
         os9   I$Seek   
         lbcs  L02C4
         puls  pc,u
L02C3    clrb  
L02C4    pshs  b
         ldy   u0003,u
         os9   F$SUser  
         puls  b
         os9   F$Exit   
L02D1    leax  >L0190,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         bra   L02C3
L02E0    pshs  y
L02E2    lda   ,x+
         cmpa  #$0D
         lbeq  L03B5
         cmpa  #$30
         bcs   L02E2
         cmpa  #$39
         bhi   L02E2
         leax  -$01,x
L02F4    lda   ,x+
         cmpa  #$30
         bcs   L0300
         cmpa  #$39
         bhi   L0300
         bra   L02F4
L0300    pshs  x
         leax  -$01,x
         clr   u0007,u
         clr   u0008,u
         ldd   #$0001
         std   u0009,u
L030D    lda   ,-x
         cmpa  #$30
         bcs   L0341
         cmpa  #$39
         bhi   L0341
         suba  #$30
         sta   u0002,u
         ldd   #$0000
L031E    tst   u0002,u
         beq   L0328
         addd  u0009,u
         dec   u0002,u
         bra   L031E
L0328    addd  u0007,u
         std   u0007,u
         lda   #$0A
         sta   u0002,u
         ldd   #$0000
L0333    tst   u0002,u
         beq   L033D
         addd  u0009,u
         dec   u0002,u
         bra   L0333
L033D    std   u0009,u
         bra   L030D
L0341    ldd   u0007,u
         puls  x
         puls  pc,y
L0347    pshs  x
         std   u0007,u
         lda   #$30
         sta   ,x
         sta   $01,x
         sta   $02,x
         sta   $03,x
         sta   $04,x
         ldd   #$2710
         std   u0009,u
         ldd   u0007,u
         lbsr  L03A6
         ldd   #$03E8
         std   u0009,u
         ldd   u0007,u
         bsr   L03A6
         ldd   #$0064
         std   u0009,u
         ldd   u0007,u
         bsr   L03A6
         ldd   #$000A
         std   u0009,u
         ldd   u0007,u
         bsr   L03A6
         ldd   #$0001
         std   u0009,u
         ldd   u0007,u
         bsr   L03A6
         lda   #$0D
         sta   ,x
         puls  x
         ldb   #$20
L038D    lda   ,x
         cmpa  #$30
         bne   L0397
         stb   ,x+
         bra   L038D
L0397    lda   ,x+
         cmpa  #$30
         bcs   L03A3
         cmpa  #$39
         bhi   L03A3
         bra   L0397
L03A3    leax  -$01,x
         rts   
L03A6    subd  u0009,u
         bcs   L03AE
         inc   ,x
         bra   L03A6
L03AE    addd  u0009,u
         std   u0007,u
         leax  $01,x
         rts   
L03B5    ldd   #$FFFF
         puls  pc,y
         emod
eom      equ   *
         end
