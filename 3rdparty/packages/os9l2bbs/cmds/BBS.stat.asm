         nam   BBS.stat
         ttl   program module       

* Disassembled 2010/01/24 10:52:50 by Disasm v1.5 (C) 1988 by RML

         ifp1
         use   defsfile
         endc
tylg     set   Prgrm+Objct   
atrv     set   ReEnt+rev
rev      set   $01
         mod   eom,name,tylg,atrv,start,size
u0000    rmb   1
u0001    rmb   1
u0002    rmb   1
u0003    rmb   1
u0004    rmb   2
u0006    rmb   2
u0008    rmb   2
u000A    rmb   8
u0012    rmb   2
u0014    rmb   2
u0016    rmb   2
u0018    rmb   2
u001A    rmb   6
u0020    rmb   8
u0028    rmb   3
u002B    rmb   2
u002D    rmb   401
size     equ   .
name     equ   *
         fcs   /BBS.stat/
L0015    fcb   $55 U
         fcb   $73 s
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $53 S
         fcb   $74 t
         fcb   $61 a
         fcb   $74 t
         fcb   $69 i
         fcb   $73 s
         fcb   $74 t
         fcb   $69 i
         fcb   $63 c
         fcb   $73 s
         fcb   $3A :
         fcb   $0D 
L0026    fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $0D 
L0055    fcb   $4C L
         fcb   $61 a
         fcb   $73 s
         fcb   $74 t
         fcb   $20 
         fcb   $6F o
         fcb   $6E n
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $3A :
         fcb   $20 
L0067    fcb   $54 T
         fcb   $69 i
         fcb   $6D m
         fcb   $65 e
         fcb   $73 s
         fcb   $20 
         fcb   $63 c
         fcb   $61 a
         fcb   $6C l
         fcb   $6C l
         fcb   $65 e
         fcb   $64 d
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $3A :
         fcb   $20 
L0079    fcb   $4D M
         fcb   $65 e
         fcb   $73 s
         fcb   $73 s
         fcb   $61 a
         fcb   $67 g
         fcb   $65 e
         fcb   $73 s
         fcb   $20 
         fcb   $6C l
         fcb   $65 e
         fcb   $66 f
         fcb   $74 t
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $3A :
         fcb   $20 
L008B    fcb   $4D M
         fcb   $65 e
         fcb   $73 s
         fcb   $73 s
         fcb   $61 a
         fcb   $67 g
         fcb   $65 e
         fcb   $73 s
         fcb   $20 
         fcb   $72 r
         fcb   $65 e
         fcb   $61 a
         fcb   $64 d
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $3A :
         fcb   $20 
L009D    fcb   $46 F
         fcb   $69 i
         fcb   $6C l
         fcb   $65 e
         fcb   $73 s
         fcb   $20 
         fcb   $64 d
         fcb   $6F o
         fcb   $77 w
         fcb   $6E n
         fcb   $6C l
         fcb   $6F o
         fcb   $61 a
         fcb   $64 d
         fcb   $65 e
         fcb   $64 d
         fcb   $3A :
         fcb   $20 
L00AF    fcb   $46 F
         fcb   $69 i
         fcb   $6C l
         fcb   $65 e
         fcb   $73 s
         fcb   $20 
         fcb   $75 u
         fcb   $70 p
         fcb   $6C l
         fcb   $6F o
         fcb   $61 a
         fcb   $64 d
         fcb   $65 e
         fcb   $64 d
         fcb   $20 
         fcb   $20 
         fcb   $3A :
         fcb   $20 
L00C1    fcb   $54 T
         fcb   $69 i
         fcb   $6D m
         fcb   $65 e
         fcb   $20 
         fcb   $74 t
         fcb   $68 h
         fcb   $69 i
         fcb   $73 s
         fcb   $20 
         fcb   $6C l
         fcb   $6F o
         fcb   $67 g
         fcb   $69 i
         fcb   $6E n
         fcb   $20 
         fcb   $3A :
         fcb   $20 
L00D3    fcb   $55 U
         fcb   $73 s
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $23 #
         fcb   $20 
         fcb   $74 t
         fcb   $6F o
         fcb   $20 
         fcb   $63 c
         fcb   $68 h
         fcb   $65 e
         fcb   $63 c
         fcb   $6B k
         fcb   $3A :
L00E3    fcb   $2F /
         fcb   $64 d
         fcb   $64 d
         fcb   $2F /
         fcb   $62 b
         fcb   $62 b
         fcb   $73 s
         fcb   $2F /
         fcb   $42 B
         fcb   $42 B
         fcb   $53 S
         fcb   $2E .
         fcb   $75 u
         fcb   $73 s
         fcb   $65 e
         fcb   $72 r
         fcb   $73 s
         fcb   $74 t
         fcb   $61 a
         fcb   $74 t
         fcb   $73 s
L00F8    fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $4A J
         fcb   $61 a
         fcb   $6E n
         fcb   $75 u
         fcb   $61 a
         fcb   $72 r
         fcb   $79 y
         fcb   $20 
         fcb   $46 F
         fcb   $65 e
         fcb   $62 b
         fcb   $72 r
         fcb   $75 u
         fcb   $61 a
         fcb   $72 r
         fcb   $79 y
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $4D M
         fcb   $61 a
         fcb   $72 r
         fcb   $63 c
         fcb   $68 h
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $41 A
         fcb   $70 p
         fcb   $72 r
         fcb   $69 i
         fcb   $6C l
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $4D M
         fcb   $61 a
         fcb   $79 y
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $4A J
         fcb   $75 u
         fcb   $6E n
         fcb   $65 e
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $4A J
         fcb   $75 u
         fcb   $6C l
         fcb   $79 y
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $41 A
         fcb   $75 u
         fcb   $67 g
         fcb   $75 u
         fcb   $73 s
         fcb   $74 t
         fcb   $53 S
         fcb   $65 e
         fcb   $70 p
         fcb   $74 t
         fcb   $65 e
         fcb   $6D m
         fcb   $62 b
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $20 
         fcb   $4F O
         fcb   $63 c
         fcb   $74 t
         fcb   $6F o
         fcb   $62 b
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $4E N
         fcb   $6F o
         fcb   $76 v
         fcb   $65 e
         fcb   $6D m
         fcb   $62 b
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $44 D
         fcb   $65 e
         fcb   $63 c
         fcb   $65 e
         fcb   $6D m
         fcb   $62 b
         fcb   $65 e
         fcb   $72 r
L016D    fcb   $2C ,
         fcb   $20 
         fcb   $31 1
         fcb   $39 9
L0171    fcb   $3A :
start    equ   *
         leax  >L00E3,pcr
         lda   #$01
         os9   I$Open   
         lbcs  L0264
         sta   ,u
         os9   F$ID     
         sty   u0006,u
         lda   #$0D
         sta   <u002D,u
         ldd   u0006,u
         cmpd  #$0000
         bne   L0197
         lbsr  L03EA
L0197    leax  u0008,u
         ldy   #$0020
         lda   ,u
         os9   I$Read   
         bcs   L01AD
         ldd   u0008,u
         cmpd  u0006,u
         beq   L01B6
         bra   L0197
L01AD    cmpb  #$D3
         lbne  L0265
         lbra  L0264
L01B6    leax  >L0015,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         leax  >L0026,pcr
         ldy   #$00C8
         os9   I$WritLn 
         leax  >L0055,pcr
         ldy   #$0012
         lda   #$01
         os9   I$Write  
         leax  <u001A,u
         lbsr  L0289
         leax  >L0067,pcr
         ldy   #$0012
         lda   #$01
         os9   I$Write  
         ldd   u000A,u
         lbsr  L0268
         leax  >L009D,pcr
         ldy   #$0012
         lda   #$01
         os9   I$Write  
         ldd   <u0016,u
         lbsr  L0268
         leax  >L00AF,pcr
         ldy   #$0012
         lda   #$01
         os9   I$Write  
         ldd   <u0018,u
         lbsr  L0268
         leax  >L0079,pcr
         ldy   #$0012
         lda   #$01
         os9   I$Write  
         ldd   <u0012,u
         lbsr  L0268
         leax  >L008B,pcr
         ldy   #$0012
         lda   #$01
         os9   I$Write  
         ldd   <u0014,u
         lbsr  L0268
         ldd   <u0020,u
         beq   L0257
         leax  >L00C1,pcr
         ldy   #$0012
         lda   #$01
         os9   I$Write  
         ldd   <u0020,u
         lbsr  L0268
L0257    leax  >L0026,pcr
         lda   #$01
         ldy   #$00C8
         os9   I$WritLn 
L0264    clrb  
L0265    os9   F$Exit   
L0268    leax  <u0028,u
         lbsr  L0395
         leax  <u0028,u
L0271    lda   ,x+
         cmpa  #$30
         beq   L0271
         cmpa  #$0D
         bne   L027D
         leax  -$01,x
L027D    leax  -$01,x
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         rts   
L0289    lda   $01,x
         ldb   #$09
         mul   
         pshs  x
         leax  >L00F8,pcr
         leax  d,x
         ldy   #$000A
L029A    lda   ,x+
         cmpa  #$20
         bne   L02A4
         leay  -$01,y
         bne   L029A
L02A4    leax  -$01,x
         lda   #$01
         os9   I$Write  
         ldx   ,s
         ldb   $02,x
         clra  
         leax  <u0028,u
         lbsr  L0395
         leax  <u0028,u
         leax  $03,x
         ldy   #$0002
         lda   #$01
         os9   I$Write  
         leax  >L016D,pcr
         ldy   #$0004
         os9   I$Write  
         ldx   ,s
         ldb   ,x
         clra  
         leax  <u0028,u
         lbsr  L0395
         leax  <u002B,u
         ldy   #$0002
         lda   #$01
         os9   I$Write  
         leax  >L00F8,pcr
         ldy   #$0001
         os9   I$Write  
         clra  
         ldx   ,s
         ldb   $03,x
         leax  <u0028,u
         lbsr  L0395
         leax  <u002B,u
         ldy   #$0002
         lda   #$01
         os9   I$Write  
         leax  >L0171,pcr
         ldy   #$0001
         os9   I$Write  
         clra  
         ldx   ,s
         ldb   $04,x
         leax  <u0028,u
         lbsr  L0395
         leax  <u0028,u
         leax  $03,x
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         puls  pc,x
L032E    pshs  y
L0330    lda   ,x+
         cmpa  #$0D
         lbeq  L03E5
         cmpa  #$30
         bcs   L0330
         cmpa  #$39
         bhi   L0330
         leax  -$01,x
L0342    lda   ,x+
         cmpa  #$30
         bcs   L034E
         cmpa  #$39
         bhi   L034E
         bra   L0342
L034E    pshs  x
         leax  -$01,x
         clr   u0002,u
         clr   u0003,u
         ldd   #$0001
         std   u0004,u
L035B    lda   ,-x
         cmpa  #$30
         bcs   L038F
         cmpa  #$39
         bhi   L038F
         suba  #$30
         sta   u0001,u
         ldd   #$0000
L036C    tst   u0001,u
         beq   L0376
         addd  u0004,u
         dec   u0001,u
         bra   L036C
L0376    addd  u0002,u
         std   u0002,u
         lda   #$0A
         sta   u0001,u
         ldd   #$0000
L0381    tst   u0001,u
         beq   L038B
         addd  u0004,u
         dec   u0001,u
         bra   L0381
L038B    std   u0004,u
         bra   L035B
L038F    ldd   u0002,u
         puls  x
         puls  pc,y
L0395    std   u0002,u
         lda   #$30
         sta   ,x
         sta   $01,x
         sta   $02,x
         sta   $03,x
         sta   $04,x
         ldd   #$2710
         std   u0004,u
         ldd   u0002,u
         lbsr  L03D6
         ldd   #$03E8
         std   u0004,u
         ldd   u0002,u
         bsr   L03D6
         ldd   #$0064
         std   u0004,u
         ldd   u0002,u
         bsr   L03D6
         ldd   #$000A
         std   u0004,u
         ldd   u0002,u
         bsr   L03D6
         ldd   #$0001
         std   u0004,u
         ldd   u0002,u
         bsr   L03D6
         lda   #$0D
         sta   ,x
         rts   
L03D6    subd  u0004,u
         bcs   L03DE
         inc   ,x
         bra   L03D6
L03DE    addd  u0004,u
         std   u0002,u
         leax  $01,x
         rts   
L03E5    ldb   #$01
         lbra  L0265
L03EA    leax  >L00D3,pcr
         ldy   #$0010
         lda   #$01
         os9   I$Write  
         leax  <u0028,u
         ldy   #$0005
         clra  
         os9   I$ReadLn 
         lbsr  L032E
         std   u0006,u
         rts   
         emod
eom      equ   *
         end
