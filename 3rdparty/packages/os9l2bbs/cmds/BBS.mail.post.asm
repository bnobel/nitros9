         nam   BBS.mail.post
         ttl   program module       

* Disassembled 2010/01/24 10:33:31 by Disasm v1.5 (C) 1988 by RML

         ifp1
         use   defsfile
         endc
tylg     set   Prgrm+Objct   
atrv     set   ReEnt+rev
rev      set   $01
         mod   eom,name,tylg,atrv,start,size
u0000    rmb   1
u0001    rmb   1
u0002    rmb   1
u0003    rmb   1
u0004    rmb   1
u0005    rmb   1
u0006    rmb   1
u0007    rmb   2
u0009    rmb   1
u000A    rmb   1
u000B    rmb   1
u000C    rmb   1
u000D    rmb   2
u000F    rmb   2
u0011    rmb   2
u0013    rmb   1
u0014    rmb   1
u0015    rmb   2
u0017    rmb   2
u0019    rmb   200
u00E1    rmb   200
u01A9    rmb   1
u01AA    rmb   5
u01AF    rmb   1
u01B0    rmb   2
u01B2    rmb   2
u01B4    rmb   60
u01F0    rmb   2
u01F2    rmb   2
u01F4    rmb   20
u0208    rmb   30
u0226    rmb   6
u022C    rmb   2
u022E    rmb   2
u0230    rmb   8000
u2170    rmb   80
u21C0    rmb   232
size     equ   .
name     equ   *
         fcs   /BBS.mail.post/
         fcb   $43 C
         fcb   $6F o
         fcb   $70 p
         fcb   $79 y
         fcb   $72 r
         fcb   $69 i
         fcb   $67 g
         fcb   $68 h
         fcb   $74 t
         fcb   $20 
         fcb   $28 (
         fcb   $43 C
         fcb   $29 )
         fcb   $20 
         fcb   $31 1
         fcb   $39 9
         fcb   $38 8
         fcb   $38 8
         fcb   $42 B
         fcb   $79 y
         fcb   $20 
         fcb   $4B K
         fcb   $65 e
         fcb   $69 i
         fcb   $74 t
         fcb   $68 h
         fcb   $20 
         fcb   $41 A
         fcb   $6C l
         fcb   $70 p
         fcb   $68 h
         fcb   $6F o
         fcb   $6E n
         fcb   $73 s
         fcb   $6F o
         fcb   $4C L
         fcb   $69 i
         fcb   $63 c
         fcb   $65 e
         fcb   $6E n
         fcb   $63 c
         fcb   $65 e
         fcb   $64 d
         fcb   $20 
         fcb   $74 t
         fcb   $6F o
         fcb   $20 
         fcb   $41 A
         fcb   $6C l
         fcb   $70 p
         fcb   $68 h
         fcb   $61 a
         fcb   $20 
         fcb   $53 S
         fcb   $6F o
         fcb   $66 f
         fcb   $74 t
         fcb   $77 w
         fcb   $61 a
         fcb   $72 r
         fcb   $65 e
         fcb   $20 
         fcb   $54 T
         fcb   $65 e
         fcb   $63 c
         fcb   $68 h
         fcb   $6E n
         fcb   $6F o
         fcb   $6C l
         fcb   $6F o
         fcb   $67 g
         fcb   $69 i
         fcb   $65 e
         fcb   $73 s
         fcb   $41 A
         fcb   $6C l
         fcb   $6C l
         fcb   $20 
         fcb   $72 r
         fcb   $69 i
         fcb   $67 g
         fcb   $68 h
         fcb   $74 t
         fcb   $73 s
         fcb   $20 
         fcb   $72 r
         fcb   $65 e
         fcb   $73 s
         fcb   $65 e
         fcb   $72 r
         fcb   $76 v
         fcb   $65 e
         fcb   $64 d
         fcb   $EC l
         fcb   $E6 f
         fcb   $EA j
         fcb   $F5 u
         fcb   $E9 i
         fcb   $A0 
         fcb   $E2 b
         fcb   $ED m
         fcb   $F1 q
         fcb   $E9 i
         fcb   $F0 p
         fcb   $EF o
         fcb   $F4 t
         fcb   $F0 p
L0085    fcb   $42 B
         fcb   $42 B
         fcb   $53 S
         fcb   $2E .
         fcb   $6D m
         fcb   $61 a
         fcb   $69 i
         fcb   $6C l
         fcb   $2E .
         fcb   $69 i
         fcb   $6E n
         fcb   $78 x
         fcb   $0D 
L0092    fcb   $42 B
         fcb   $42 B
         fcb   $53 S
         fcb   $2E .
         fcb   $6D m
         fcb   $61 a
         fcb   $69 i
         fcb   $6C l
         fcb   $0D 
L009B    fcb   $45 E
         fcb   $6E n
         fcb   $74 t
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $73 s
         fcb   $75 u
         fcb   $62 b
         fcb   $6A j
         fcb   $65 e
         fcb   $63 c
         fcb   $74 t
         fcb   $20 
         fcb   $6F o
         fcb   $66 f
         fcb   $20 
         fcb   $6D m
         fcb   $65 e
         fcb   $73 s
         fcb   $73 s
         fcb   $61 a
         fcb   $67 g
         fcb   $65 e
         fcb   $0D 
         fcb   $0A 
         fcb   $3E >
L00B6    fcb   $00 
         fcb   $1B 
L00B8    fcb   $0A 
         fcb   $0A 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $50 P
         fcb   $6C l
         fcb   $65 e
         fcb   $61 a
         fcb   $73 s
         fcb   $65 e
         fcb   $20 
         fcb   $65 e
         fcb   $6E n
         fcb   $74 t
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $6D m
         fcb   $65 e
         fcb   $73 s
         fcb   $73 s
         fcb   $61 a
         fcb   $67 g
         fcb   $65 e
         fcb   $20 
         fcb   $6E n
         fcb   $6F o
         fcb   $77 w
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $28 (
         fcb   $42 B
         fcb   $6C l
         fcb   $61 a
         fcb   $6E n
         fcb   $6B k
         fcb   $20 
         fcb   $6C l
         fcb   $69 i
         fcb   $6E n
         fcb   $65 e
         fcb   $20 
         fcb   $65 e
         fcb   $6E n
         fcb   $64 d
         fcb   $73 s
         fcb   $29 )
         fcb   $0D 
L00F4    fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $0D 
L0135    fcb   $2F /
         fcb   $64 d
         fcb   $64 d
         fcb   $2F /
         fcb   $62 b
         fcb   $62 b
         fcb   $73 s
         fcb   $2F /
         fcb   $42 B
         fcb   $42 B
         fcb   $53 S
         fcb   $2E .
         fcb   $61 a
         fcb   $6C l
         fcb   $69 i
         fcb   $61 a
         fcb   $73 s
         fcb   $0D 
L0147    fcb   $0A 
         fcb   $5B [
         fcb   $41 A
         fcb   $5D ]
         fcb   $62 b
         fcb   $6F o
         fcb   $72 r
         fcb   $74 t
         fcb   $20 
         fcb   $5B [
         fcb   $44 D
         fcb   $5D ]
         fcb   $6F o
         fcb   $6E n
         fcb   $65 e
         fcb   $20 
         fcb   $5B [
         fcb   $45 E
         fcb   $5D ]
         fcb   $64 d
         fcb   $69 i
         fcb   $74 t
         fcb   $20 
         fcb   $5B [
         fcb   $43 C
         fcb   $5D ]
         fcb   $6F o
         fcb   $6E n
         fcb   $74 t
         fcb   $69 i
         fcb   $6E n
         fcb   $75 u
         fcb   $65 e
         fcb   $20 
         fcb   $6F o
         fcb   $72 r
         fcb   $20 
         fcb   $5B [
         fcb   $4C L
         fcb   $5D ]
         fcb   $69 i
         fcb   $73 s
         fcb   $74 t
         fcb   $0D 
L0173    fcb   $45 E
         fcb   $6E n
         fcb   $74 t
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $6C l
         fcb   $69 i
         fcb   $6E n
         fcb   $65 e
         fcb   $20 
         fcb   $23 #
         fcb   $0D 
L0180    fcb   $3E >
L0181    fcb   $0A 
         fcb   $0D 
L0183    fcb   $53 S
         fcb   $6F o
         fcb   $72 r
         fcb   $72 r
         fcb   $79 y
         fcb   $2E .
         fcb   $2E .
         fcb   $2E .
         fcb   $63 c
         fcb   $61 a
         fcb   $6E n
         fcb   $6E n
         fcb   $6F o
         fcb   $74 t
         fcb   $20 
         fcb   $6C l
         fcb   $6F o
         fcb   $63 c
         fcb   $61 a
         fcb   $74 t
         fcb   $65 e
         fcb   $20 
         fcb   $74 t
         fcb   $68 h
         fcb   $61 a
         fcb   $74 t
         fcb   $20 
         fcb   $6E n
         fcb   $61 a
         fcb   $6D m
         fcb   $65 e
         fcb   $0D 
L01A3    fcb   $45 E
         fcb   $6E n
         fcb   $74 t
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $74 t
         fcb   $68 h
         fcb   $65 e
         fcb   $20 
         fcb   $6E n
         fcb   $61 a
         fcb   $6D m
         fcb   $65 e
         fcb   $20 
         fcb   $6F o
         fcb   $66 f
         fcb   $20 
         fcb   $74 t
         fcb   $68 h
         fcb   $65 e
         fcb   $20 
         fcb   $50 P
         fcb   $65 e
         fcb   $72 r
         fcb   $73 s
         fcb   $6F o
         fcb   $6E n
         fcb   $20 
         fcb   $74 t
         fcb   $6F o
         fcb   $20 
         fcb   $73 s
         fcb   $65 e
         fcb   $6E n
         fcb   $64 d
         fcb   $20 
         fcb   $6D m
         fcb   $61 a
         fcb   $69 i
         fcb   $6C l
         fcb   $20 
         fcb   $74 t
         fcb   $6F o
         fcb   $0D 
L01D0    fcb   $08 
         fcb   $20 
         fcb   $08 
start    equ   *
         clr   >u01AF,u
         clr   >u01A9,u
         clr   u0006,u
         os9   F$ID     
         lbcs  L05C5
         sty   u0007,u
         ldy   #$0000
         os9   F$SUser  
         lbcs  L05C5
L01F2    leax  >L01A3,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         leax  >L0180,pcr
         ldy   #$0001
         os9   I$Write  
         clra  
         leax  >u00E1,u
         ldy   #$00C8
         os9   I$ReadLn 
         cmpy  #$0001
         lbls  L05BE
L021E    lda   ,x+
         cmpa  #$0D
         beq   L022E
         cmpa  #$61
         bcs   L021E
         anda  #$DF
         sta   -$01,x
         bra   L021E
L022E    leax  >L0135,pcr
         lda   #$01
         os9   I$Open   
         lbcs  L05C5
         sta   u0002,u
L023D    leax  <u0019,u
         ldy   #$00C8
         lda   u0002,u
         os9   I$ReadLn 
         bcs   L027D
L024B    lda   ,x+
         cmpa  #$0D
         beq   L025B
         cmpa  #$61
         bcs   L024B
         anda  #$DF
         sta   -$01,x
         bra   L024B
L025B    leax  <u0019,u
         leay  >u00E1,u
L0262    lda   ,y+
         cmpa  #$0D
         beq   L026E
         cmpa  ,x+
         beq   L0262
         bra   L023D
L026E    lda   ,x+
         cmpa  #$2C
         bne   L023D
         lbsr  L0758
         std   >u022E,u
         bra   L0293
L027D    cmpb  #$D3
         lbne  L05C5
         leax  >L0183,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         lbra  L01F2
L0293    leax  >L0085,pcr
         lda   #$01
         os9   I$Open   
         lbcs  L0806
         sta   ,u
         leax  >u01B0,u
         ldy   #$0040
         lda   ,u
         os9   I$Read   
         lbcs  L05C5
         lda   ,u
         os9   I$Close  
         leax  >L0085,pcr
         lda   #$03
         os9   I$Open   
         lbcs  L05C5
         sta   ,u
         lda   #$06
         sta   u0003,u
         ldd   >u01B0,u
         addd  #$0001
         std   >u01B0,u
         clr   u000B,u
         clr   u000C,u
L02DA    lslb  
         rola  
         rol   u000C,u
         dec   u0003,u
         bne   L02DA
         std   u000D,u
         lda   ,u
         ldx   u000B,u
         pshs  u
         ldu   u000D,u
         os9   I$Seek   
         lbcs  L05C5
         puls  u
         leax  >u0226,u
         os9   F$Time   
         leax  >L009B,pcr
         ldy   >L00B6,pcr
         lda   #$01
         os9   I$Write  
         lbcs  L05C5
         clra  
         leax  >u0208,u
         ldy   #$001E
         os9   I$ReadLn 
         leax  >L00B8,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         lbcs  L05C5
         leax  >L00F4,pcr
         ldy   #$0050
         os9   I$WritLn 
         lbcs  L05C5
         ldd   #$0000
         std   u0009,u
L033F    ldd   u0009,u
         addd  #$0001
         std   u0009,u
         cmpd  #$0063
         bge   L0357
         lbsr  L0467
         cmpy  #$0001
         bls   L0357
         bra   L033F
L0357    leax  >L0147,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         leax  >L0180,pcr
         ldy   #$0001
         os9   I$Write  
         leax  u0005,u
         clra  
         ldy   #$0001
         os9   I$Read   
         leax  >L0181,pcr
         ldy   #$0001
         lda   #$01
         os9   I$WritLn 
         lda   u0005,u
         anda  #$DF
         cmpa  #$41
         lbeq  L05BE
         cmpa  #$44
         lbeq  L04BC
         cmpa  #$45
         beq   L03AF
         cmpa  #$43
         beq   L03A6
         cmpa  #$4C
         lbeq  L0426
         bra   L0357
L03A6    ldd   u0009,u
         subd  #$0001
         std   u0009,u
         bra   L033F
L03AF    leax  >L0173,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         leax  >L0180,pcr
         ldy   #$0001
         os9   I$Write  
         clra  
         leax  >u01AA,u
         ldy   #$0003
         os9   I$ReadLn 
         lbsr  L0758
         cmpd  u0009,u
         lbcc  L0357
         std   <u0017,u
         leax  >u01AA,u
         lbsr  L07C8
         leax  >u01AA,u
         lda   #$3A
         sta   $02,x
         ldy   #$0003
         lda   #$01
         os9   I$Write  
         ldd   <u0017,u
         leax  >u0230,u
         lda   #$50
         mul   
         leax  d,x
         ldy   #$0050
         lda   #$01
         os9   I$WritLn 
         tfr   y,d
         stb   u0006,u
         dec   u0006,u
         leay  >u2170,u
L0417    lda   ,x+
         sta   ,y+
         decb  
         bne   L0417
         ldd   <u0017,u
         bsr   L0467
         lbra  L0357
L0426    ldd   #$0000
         std   u0009,u
L042B    ldd   u0009,u
         addd  #$0001
         std   u0009,u
         leax  >u01AA,u
         lbsr  L07C8
         leax  >u01AA,u
         lda   #$3A
         sta   $02,x
         lda   #$01
         ldy   #$0003
         os9   I$Write  
         leax  >u0230,u
         ldd   u0009,u
         lda   #$50
         mul   
         leax  d,x
         ldy   #$0050
         lda   #$01
         os9   I$WritLn 
         cmpy  #$0001
         bhi   L042B
         lbra  L0357
L0467    leax  >u01AA,u
         pshs  b,a
         lbsr  L07C8
         leax  >u01AA,u
         lda   #$3A
         sta   $02,x
         lda   #$01
         ldy   #$0003
         os9   I$Write  
         lbcs  L05C5
         leax  >u2170,u
         ldb   u0006,u
         clra  
         tfr   d,y
         lda   #$01
         os9   I$Write  
         puls  b,a
         lda   #$50
         mul   
         leax  >u0230,u
         leax  d,x
         leay  >u2170,u
         ldb   #$50
         lda   u0006,u
         beq   L04B5
         sta   <u0013,u
L04AB    lda   ,y+
         sta   ,x+
         decb  
         dec   <u0013,u
         bne   L04AB
L04B5    clra  
         tfr   d,y
         lbsr  L05C8
         rts   
L04BC    leax  >L0135,pcr
         lda   #$01
         os9   I$Open   
         lbcs  L05C5
         sta   u0002,u
L04CB    leax  <u0019,u
         ldy   #$00C8
         lda   u0002,u
         os9   I$ReadLn 
         lbcs  L05C5
L04DB    lda   ,x+
         cmpa  #$2C
         bne   L04DB
         lbsr  L0758
         cmpd  u0007,u
         bne   L04CB
         leax  <u0019,u
         leay  >u01F4,u
L04F0    lda   ,x+
         cmpa  #$2C
         beq   L04FA
         sta   ,y+
         bra   L04F0
L04FA    lda   #$0D
         sta   ,y
         ldd   >u01B2,u
         std   >u01F0,u
         ldd   >u01B4,u
         std   >u01F2,u
         ldd   u0007,u
         std   >u022C,u
         leax  >u01F0,u
         lda   ,u
         ldy   #$0040
         os9   I$Write  
         lbcs  L05C5
         leax  >L0092,pcr
         lda   #$03
         os9   I$Open   
         lbcs  L05C5
         sta   u0001,u
         pshs  u
         ldx   >u01B2,u
         lda   u0001,u
         ldu   >u01B4,u
         os9   I$Seek   
         lbcs  L05C5
         puls  u
         lda   #$00
         sta   u000F,u
         ldd   #$0001
         std   <u0011,u
L0553    lda   u000F,u
         inca  
         sta   u000F,u
         cmpa  u000A,u
         bhi   L0582
         ldb   #$50
         mul   
         leax  >u0230,u
         leax  d,x
         ldy   #$0050
         lda   u0001,u
         os9   I$WritLn 
         lbcs  L05C5
         cmpy  #$0001
         bls   L0582
         tfr   y,d
         addd  <u0011,u
         std   <u0011,u
         bra   L0553
L0582    ldd   >u01B4,u
         addd  <u0011,u
         std   >u01B4,u
         bcc   L059A
         ldd   >u01B2,u
         addd  #$0001
         std   >u01B2,u
L059A    pshs  u
         lda   ,u
         ldx   #$0000
         ldu   #$0000
         os9   I$Seek   
         lbcs  L05C5
         puls  u
         leax  >u01B0,u
         ldy   #$0040
         lda   ,u
         os9   I$Write  
         lbcs  L05C5
L05BE    clrb  
         ldy   u0007,u
         os9   F$SUser  
L05C5    os9   F$Exit   
L05C8    lbsr  L0721
         ldb   u0006,u
         leay  b,y
         pshs  y
         negb  
         sex   
         leay  d,y
         clr   u0006,u
         cmpy  #$0000
         lbeq  L0697
         pshs  y,x
         lda   #$0D
L05E3    sta   ,x+
         leay  -$01,y
         bne   L05E3
         puls  y,x
L05EB    pshs  y,x
         leax  u0005,u
         ldy   #$0001
         clra  
         os9   I$Read   
         bcs   L0624
         lda   u0005,u
         cmpa  #$01
         beq   L0628
         cmpa  #$08
         beq   L064A
         cmpa  #$18
         beq   L066E
         cmpa  #$0D
         lbeq  L0695
         cmpa  #$20
         bcs   L0624
         lda   #$01
         os9   I$Write  
         puls  y,x
         lda   u0005,u
         sta   ,x+
         leay  -$01,y
         lbeq  L06BE
         bra   L05EB
L0624    puls  y,x
         bra   L05EB
L0628    puls  y,x
         leay  -$01,y
         beq   L0645
         lda   ,x+
         cmpa  #$0D
         beq   L0643
         pshs  y,x
         leax  -$01,x
         ldy   #$0001
         lda   #$01
         os9   I$Write  
         bra   L0628
L0643    leax  -$01,x
L0645    leay  $01,y
         lbra  L05EB
L064A    puls  y,x
         leay  $01,y
         cmpy  ,s
         bhi   L0669
         pshs  y,x
         leax  >L01D0,pcr
         ldy   #$0003
         lda   #$01
         os9   I$Write  
         puls  y,x
         leax  -$01,x
         lbra  L05EB
L0669    leay  -$01,y
         lbra  L05EB
L066E    puls  y,x
         leay  $01,y
         cmpy  ,s
         bhi   L0669
         pshs  y,x
         leax  >L01D0,pcr
         ldy   #$0003
         lda   #$01
         os9   I$Write  
         puls  y,x
         leax  -$01,x
         cmpy  ,s
         lbhi  L05EB
         pshs  y,x
         bra   L066E
L0695    puls  y,x
L0697    lda   #$0D
         sta   ,x+
         pshs  y,x
         leax  >L0181,pcr
         ldy   #$0001
         lda   #$01
         os9   I$WritLn 
         puls  y,x
         puls  b,a
         pshs  y
         subd  ,s
         leas  $02,s
         tfr   d,y
         leay  $01,y
         lbsr  L073B
         rts   
         puls  y,x
L06BE    puls  b,a
         pshs  y
         subd  ,s
         leas  $02,s
         addd  #$0001
         tfr   d,y
         clrb  
L06CC    leay  -$01,y
         beq   L06EA
         lda   ,-x
         cmpa  #$20
         beq   L06FB
         pshs  y,x
         leax  >L01D0,pcr
         ldy   #$0003
         lda   #$01
         os9   I$Write  
         incb  
         puls  y,x
         bra   L06CC
L06EA    lda   #$0D
         sta   <$4F,x
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         puls  y
         rts   
L06FB    lda   #$0D
         sta   ,x+
         pshs  y,x
         stb   u0006,u
         leay  >u2170,u
L0707    lda   ,x+
         sta   ,y+
         decb  
         bne   L0707
         leax  >L0181,pcr
         ldy   #$0001
         lda   #$01
         os9   I$WritLn 
         puls  y,x
         lbsr  L073B
         rts   
L0721    pshs  y,x,b,a
         leax  >u21C0,u
         clra  
         ldb   #$00
         os9   I$GetStt 
         leax  <-$20,x
         clr   <$24,x
         leax  <$20,x
         os9   I$SetStt 
         puls  pc,y,x,b,a
L073B    pshs  y,x,b,a
         leax  >u21C0,u
         clra  
         ldb   #$00
         os9   I$GetStt 
         leax  <-$20,x
         lda   #$01
         sta   <$24,x
         leax  <$20,x
         clra  
         os9   I$SetStt 
         puls  pc,y,x,b,a
L0758    pshs  y
L075A    lda   ,x+
         cmpa  #$0D
         lbeq  L0801
         cmpa  #$30
         bcs   L075A
         cmpa  #$39
         bhi   L075A
         leax  -$01,x
L076C    lda   ,x+
         cmpa  #$30
         bcs   L0778
         cmpa  #$39
         bhi   L0778
         bra   L076C
L0778    pshs  x
         leax  -$01,x
         clr   <u0013,u
         clr   <u0014,u
         ldd   #$0001
         std   <u0015,u
L0788    lda   ,-x
         cmpa  #$30
         bcs   L07C1
         cmpa  #$39
         bhi   L07C1
         suba  #$30
         sta   u0004,u
         ldd   #$0000
L0799    tst   u0004,u
         beq   L07A4
         addd  <u0015,u
         dec   u0004,u
         bra   L0799
L07A4    addd  <u0013,u
         std   <u0013,u
         lda   #$0A
         sta   u0004,u
         ldd   #$0000
L07B1    tst   u0004,u
         beq   L07BC
         addd  <u0015,u
         dec   u0004,u
         bra   L07B1
L07BC    std   <u0015,u
         bra   L0788
L07C1    ldd   <u0013,u
         puls  x
         puls  pc,y
L07C8    pshs  y
         std   <u0013,u
         lda   #$30
         sta   ,x
         sta   $01,x
         ldd   #$000A
         std   <u0015,u
         ldd   <u0013,u
         bsr   L07EF
         ldd   #$0001
         std   <u0015,u
         ldd   <u0013,u
         bsr   L07EF
         lda   #$0D
         sta   ,x
         puls  pc,y
L07EF    subd  <u0015,u
         bcs   L07F8
         inc   ,x
         bra   L07EF
L07F8    addd  <u0015,u
         std   <u0013,u
         leax  $01,x
         rts   
L0801    ldd   #$FFFF
         puls  pc,y
L0806    leax  >L0085,pcr
         lda   #$0B
         tfr   a,b
         os9   I$Create 
         lbcs  L05C5
         sta   ,u
         leax  >L0092,pcr
         lda   #$0B
         tfr   a,b
         os9   I$Create 
         lbcs  L05C5
         sta   u0001,u
         leax  >u01B0,u
         ldd   #$0000
         std   ,x
         std   $02,x
         std   $04,x
         lda   ,u
         ldy   #$0040
         os9   I$Write  
         lbcs  L05C5
         os9   I$Close  
         lbcs  L05C5
         lda   ,u
         os9   I$Close  
         lda   u0001,u
         os9   I$Close  
         lbra  L0293
         emod
eom      equ   *
         end
