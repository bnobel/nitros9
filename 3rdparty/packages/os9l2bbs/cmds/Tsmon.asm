         nam   Tsmon
         ttl   program module       

* Disassembled 2010/01/24 10:24:18 by Disasm v1.5 (C) 1988 by RML

         ifp1
         use   defsfile
         endc
tylg     set   Prgrm+Objct   
atrv     set   ReEnt+rev
rev      set   $01
         mod   eom,name,tylg,atrv,start,size
u0000    rmb   1
u0001    rmb   1
u0002    rmb   1
u0003    rmb   1
u0004    rmb   1
u0005    rmb   1
u0006    rmb   2
u0008    rmb   32
u0028    rmb   600
size     equ   .
name     equ   *
         fcs   /Tsmon/
         fcb   $43 C
         fcb   $6F o
         fcb   $70 p
         fcb   $79 y
         fcb   $72 r
         fcb   $69 i
         fcb   $67 g
         fcb   $68 h
         fcb   $74 t
         fcb   $20 
         fcb   $28 (
         fcb   $43 C
         fcb   $29 )
         fcb   $20 
         fcb   $31 1
         fcb   $39 9
         fcb   $38 8
         fcb   $38 8
         fcb   $42 B
         fcb   $79 y
         fcb   $20 
         fcb   $4B K
         fcb   $65 e
         fcb   $69 i
         fcb   $74 t
         fcb   $68 h
         fcb   $20 
         fcb   $41 A
         fcb   $6C l
         fcb   $70 p
         fcb   $68 h
         fcb   $6F o
         fcb   $6E n
         fcb   $73 s
         fcb   $6F o
         fcb   $4C L
         fcb   $69 i
         fcb   $63 c
         fcb   $65 e
         fcb   $6E n
         fcb   $63 c
         fcb   $65 e
         fcb   $64 d
         fcb   $20 
         fcb   $74 t
         fcb   $6F o
         fcb   $20 
         fcb   $41 A
         fcb   $6C l
         fcb   $70 p
         fcb   $68 h
         fcb   $61 a
         fcb   $20 
         fcb   $53 S
         fcb   $6F o
         fcb   $66 f
         fcb   $74 t
         fcb   $77 w
         fcb   $61 a
         fcb   $72 r
         fcb   $65 e
         fcb   $20 
         fcb   $54 T
         fcb   $65 e
         fcb   $63 c
         fcb   $68 h
         fcb   $6E n
         fcb   $6F o
         fcb   $6C l
         fcb   $6F o
         fcb   $67 g
         fcb   $69 i
         fcb   $65 e
         fcb   $73 s
         fcb   $41 A
         fcb   $6C l
         fcb   $6C l
         fcb   $20 
         fcb   $72 r
         fcb   $69 i
         fcb   $67 g
         fcb   $68 h
         fcb   $74 t
         fcb   $73 s
         fcb   $20 
         fcb   $72 r
         fcb   $65 e
         fcb   $73 s
         fcb   $65 e
         fcb   $72 r
         fcb   $76 v
         fcb   $65 e
         fcb   $64 d
         fcb   $EC l
         fcb   $E6 f
         fcb   $EA j
         fcb   $F5 u
         fcb   $E9 i
         fcb   $A0 
         fcb   $E2 b
         fcb   $ED m
         fcb   $F1 q
         fcb   $E9 i
         fcb   $F0 p
         fcb   $EF o
         fcb   $F4 t
         fcb   $F0 p
L007D    fcb   $4C L
         fcb   $6F o
         fcb   $67 g
         fcb   $69 i
         fcb   $6E n
         fcb   $0D 
L0083    fcb   $4D M
         fcb   $6F o
         fcb   $6E n
         fcb   $69 i
         fcb   $74 t
         fcb   $6F o
         fcb   $72 r
         fcb   $0D 
L008B    fcb   $0D 
         fcb   $0A 
         fcb   $4D M
         fcb   $6F o
         fcb   $6E n
         fcb   $69 i
         fcb   $74 t
         fcb   $6F o
         fcb   $72 r
         fcb   $69 i
         fcb   $6E n
         fcb   $67 g
         fcb   $20 
L0098    fcb   $31 1
         fcb   $31 1
         fcb   $30 0
         fcb   $20 
         fcb   $20 
         fcb   $42 B
         fcb   $61 a
         fcb   $75 u
         fcb   $64 d
         fcb   $20 
         fcb   $33 3
         fcb   $30 0
         fcb   $30 0
         fcb   $20 
         fcb   $20 
         fcb   $42 B
         fcb   $61 a
         fcb   $75 u
         fcb   $64 d
         fcb   $20 
         fcb   $36 6
         fcb   $30 0
         fcb   $30 0
         fcb   $20 
         fcb   $20 
         fcb   $42 B
         fcb   $61 a
         fcb   $75 u
         fcb   $64 d
         fcb   $20 
         fcb   $31 1
         fcb   $32 2
         fcb   $30 0
         fcb   $30 0
         fcb   $20 
         fcb   $42 B
         fcb   $61 a
         fcb   $75 u
         fcb   $64 d
         fcb   $20 
         fcb   $32 2
         fcb   $34 4
         fcb   $30 0
         fcb   $30 0
         fcb   $20 
         fcb   $42 B
         fcb   $61 a
         fcb   $75 u
         fcb   $64 d
         fcb   $20 
L00CA    fcb   $38 8
         fcb   $20 
         fcb   $62 b
         fcb   $69 i
         fcb   $74 t
         fcb   $73 s
         fcb   $2C ,
         fcb   $20 
         fcb   $6E n
         fcb   $6F o
         fcb   $20 
         fcb   $70 p
         fcb   $61 a
         fcb   $72 r
         fcb   $69 i
         fcb   $74 t
         fcb   $79 y
         fcb   $0D 
L00DC    fcb   $55 U
         fcb   $73 s
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $6E n
         fcb   $61 a
         fcb   $6D m
         fcb   $65 e
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $44 D
         fcb   $61 a
         fcb   $74 t
         fcb   $65 e
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $74 t
         fcb   $69 i
         fcb   $6D m
         fcb   $65 e
         fcb   $0D 
L010A    fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $0D 
L0153    fcb   $2F /
         fcb   $70 p
         fcb   $0D 
L0156    fcb   $4D M
         fcb   $6F o
         fcb   $64 d
         fcb   $65 e
         fcb   $6D m
         fcb   $2E .
         fcb   $73 s
         fcb   $65 e
         fcb   $74 t
         fcb   $0D 
L0160    fcb   $2F /
         fcb   $57 W
         fcb   $62 b
         fcb   $0D 
start    equ   *
         clr   u0003,u
         stx   u0006,u
L0168    lda   ,x+
         cmpa  #$2D
         beq   L0174
         cmpa  #$0D
         bne   L0168
         bra   L0182
L0174    lda   ,x+
         anda  #$DF
         cmpa  #$4D
         bne   L0182
         lda   #$FF
         sta   u0003,u
         stx   u0006,u
L0182    leax  >L0160,pcr
         lda   #$03
         os9   I$Open   
         leax  >L0320,pcr
         os9   F$Icpt   
         clra  
         os9   I$Close  
         inca  
         os9   I$Close  
         inca  
         os9   I$Close  
         leax  >L0153,pcr
         lda   #$02
         os9   I$Open   
         leax  >L00DC,pcr
         ldy   #$00C8
         os9   I$WritLn 
         leax  >L010A,pcr
         ldy   #$0050
         os9   I$WritLn 
         os9   I$Close  
L01C0    ldx   u0006,u
         lda   #$03
         os9   I$Open   
         os9   I$Dup    
         os9   I$Dup    
         leax  >L0156,pcr
         lda   #$01
         os9   I$Open   
         bcs   L020A
L01D8    leax  <u0028,u
         ldy   #$00C8
         os9   I$ReadLn 
         bcs   L0207
         pshs  a
L01E6    lda   #$01
         ldy   #$0001
         os9   I$Write  
         lda   ,x
         cmpa  #$0D
         beq   L0203
         leax  $01,x
         pshs  x
         ldx   #$0005
         os9   F$Sleep  
         puls  x
         bra   L01E6
L0203    puls  a
         bra   L01D8
L0207    os9   I$Close  
L020A    leax  u0008,u
         clra  
         clrb  
         os9   I$GetStt 
         leax  <-$20,x
         lda   #$03
         sta   u0005,u
         sta   <$35,x
         clr   <$24,x
         leax  u0008,u
         clra  
         clrb  
         os9   I$SetStt 
         clr   u0004,u
L0227    dec   u0004,u
         beq   L020A
         ldx   #$0002
         os9   F$Sleep  
         clra  
         ldb   #$01
         os9   I$GetStt 
         bcs   L0227
         leax  ,u
         clr   ,x
         ldy   #$0001
         clra  
         os9   I$Read   
         bcc   L0255
         ldx   #$000A
         os9   F$Sleep  
         lda   #$01
         bsr   L0273
         clr   u0004,u
         bra   L0227
L0255    lda   ,u
         cmpa  #$0D
         beq   L0283
         clr   u0004,u
         lda   u0005,u
         cmpa  #$04
         beq   L026B
         lda   #$04
         sta   u0005,u
         bsr   L0273
         bra   L0227
L026B    lda   #$01
         sta   u0005,u
         bsr   L0273
         bra   L0227
L0273    leax  u0008,u
         leax  <-$20,x
         sta   <$35,x
         leax  u0008,u
         clra  
         clrb  
         os9   I$SetStt 
         rts   
L0283    leax  u0008,u
         leax  <-$20,x
         lda   #$01
         sta   <$24,x
         leax  u0008,u
         clra  
         clrb  
         os9   I$SetStt 
         leax  <-$20,x
         ldb   <$35,x
         lda   #$0A
         mul   
         leax  >L0098,pcr
         leax  d,x
         ldy   #$000A
         lda   #$01
         os9   I$Write  
         leax  >L00CA,pcr
         ldy   #$00C8
         os9   I$WritLn 
         leax  >L007D,pcr
         ldy   #$0001
         pshs  u
         leau  >L008B,pcr
         lda   #$11
         ldb   #$03
         os9   F$Fork   
         lbcs  L031A
         ldu   ,s
         sta   u0001,u
         lda   u0003,u
         bne   L02E9
         leau  >L008B,pcr
         leax  >L0083,pcr
         lda   #$11
         os9   F$Fork   
         lbcs  L031A
L02E9    puls  u
         lbcs  L031A
         sta   u0002,u
         os9   F$Wait   
         pshs  a
         clra  
         os9   I$Close  
         inca  
         os9   I$Close  
         inca  
         os9   I$Close  
         puls  a
         cmpa  u0001,u
         bne   L0314
         ldx   #$003C
         os9   F$Sleep  
         lda   u0002,u
         clrb  
         os9   F$Send   
L0314    os9   F$Wait   
         lbra  L01C0
L031A    os9   F$PErr   
         lbra  L01C0
L0320    rti   
         emod
eom      equ   *
         end
