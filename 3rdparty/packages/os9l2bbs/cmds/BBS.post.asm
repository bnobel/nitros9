         nam   BBS.post
         ttl   program module       

* Disassembled 2010/01/24 10:35:53 by Disasm v1.5 (C) 1988 by RML

         ifp1
         use   /dd/defs/defsfile
         endc
tylg     set   Prgrm+Objct   
atrv     set   ReEnt+rev
rev      set   $01
         mod   eom,name,tylg,atrv,start,size
u0000    rmb   1
u0001    rmb   1
u0002    rmb   1
u0003    rmb   1
u0004    rmb   1
u0005    rmb   1
u0006    rmb   1
u0007    rmb   1
u0008    rmb   2
u000A    rmb   1
u000B    rmb   1
u000C    rmb   1
u000D    rmb   1
u000E    rmb   2
u0010    rmb   2
u0012    rmb   2
u0014    rmb   1
u0015    rmb   1
u0016    rmb   2
u0018    rmb   2
u001A    rmb   200
u00E2    rmb   1
u00E3    rmb   5
u00E8    rmb   1
u00E9    rmb   2
u00EB    rmb   2
u00ED    rmb   60
u0129    rmb   2
u012B    rmb   2
u012D    rmb   20
u0141    rmb   30
u015F    rmb   6
u0165    rmb   2
u0167    rmb   2
u0169    rmb   2
u016B    rmb   2
u016D    rmb   6
u0173    rmb   2
u0175    rmb   2
u0177    rmb   2
u0179    rmb   16
u0189    rmb   200
u0251    rmb   8000
u2191    rmb   80
u21E1    rmb   232
size     equ   .
name     equ   *
         fcs   /BBS.post/
         fcb   $43 C
         fcb   $6F o
         fcb   $70 p
         fcb   $79 y
         fcb   $72 r
         fcb   $69 i
         fcb   $67 g
         fcb   $68 h
         fcb   $74 t
         fcb   $20 
         fcb   $28 (
         fcb   $43 C
         fcb   $29 )
         fcb   $20 
         fcb   $31 1
         fcb   $39 9
         fcb   $38 8
         fcb   $38 8
         fcb   $42 B
         fcb   $79 y
         fcb   $20 
         fcb   $4B K
         fcb   $65 e
         fcb   $69 i
         fcb   $74 t
         fcb   $68 h
         fcb   $20 
         fcb   $41 A
         fcb   $6C l
         fcb   $70 p
         fcb   $68 h
         fcb   $6F o
         fcb   $6E n
         fcb   $73 s
         fcb   $6F o
         fcb   $4C L
         fcb   $69 i
         fcb   $63 c
         fcb   $65 e
         fcb   $6E n
         fcb   $63 c
         fcb   $65 e
         fcb   $64 d
         fcb   $20 
         fcb   $74 t
         fcb   $6F o
         fcb   $20 
         fcb   $41 A
         fcb   $6C l
         fcb   $70 p
         fcb   $68 h
         fcb   $61 a
         fcb   $20 
         fcb   $53 S
         fcb   $6F o
         fcb   $66 f
         fcb   $74 t
         fcb   $77 w
         fcb   $61 a
         fcb   $72 r
         fcb   $65 e
         fcb   $20 
         fcb   $54 T
         fcb   $65 e
         fcb   $63 c
         fcb   $68 h
         fcb   $6E n
         fcb   $6F o
         fcb   $6C l
         fcb   $6F o
         fcb   $67 g
         fcb   $69 i
         fcb   $65 e
         fcb   $73 s
         fcb   $41 A
         fcb   $6C l
         fcb   $6C l
         fcb   $20 
         fcb   $72 r
         fcb   $69 i
         fcb   $67 g
         fcb   $68 h
         fcb   $74 t
         fcb   $73 s
         fcb   $20 
         fcb   $72 r
         fcb   $65 e
         fcb   $73 s
         fcb   $65 e
         fcb   $72 r
         fcb   $76 v
         fcb   $65 e
         fcb   $64 d
         fcb   $EC l
         fcb   $E6 f
         fcb   $EA j
         fcb   $F5 u
         fcb   $E9 i
         fcb   $A0 
         fcb   $E2 b
         fcb   $ED m
         fcb   $F1 q
         fcb   $E9 i
         fcb   $F0 p
         fcb   $EF o
         fcb   $F4 t
         fcb   $F0 p
L0080    fcb   $42 B
         fcb   $42 B
         fcb   $53 S
         fcb   $2E .
         fcb   $6D m
         fcb   $73 s
         fcb   $67 g
         fcb   $2E .
         fcb   $69 i
         fcb   $6E n
         fcb   $78 x
         fcb   $0D 
L008C    fcb   $42 B
         fcb   $42 B
         fcb   $53 S
         fcb   $2E .
         fcb   $6D m
         fcb   $73 s
         fcb   $67 g
         fcb   $0D 
L0094    fcb   $0A 
         fcb   $45 E
         fcb   $6E n
         fcb   $74 t
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $73 s
         fcb   $75 u
         fcb   $62 b
         fcb   $6A j
         fcb   $65 e
         fcb   $63 c
         fcb   $74 t
         fcb   $20 
         fcb   $6F o
         fcb   $66 f
         fcb   $20 
         fcb   $6D m
         fcb   $65 e
         fcb   $73 s
         fcb   $73 s
         fcb   $61 a
         fcb   $67 g
         fcb   $65 e
         fcb   $0D 
         fcb   $0A 
         fcb   $3E >
L00B0    fcb   $41 A
         fcb   $64 d
         fcb   $64 d
         fcb   $72 r
         fcb   $65 e
         fcb   $73 s
         fcb   $73 s
         fcb   $20 
         fcb   $6D m
         fcb   $65 e
         fcb   $73 s
         fcb   $73 s
         fcb   $61 a
         fcb   $67 g
         fcb   $65 e
         fcb   $20 
         fcb   $74 t
         fcb   $6F o
         fcb   $20 
         fcb   $28 (
         fcb   $42 B
         fcb   $4C L
         fcb   $41 A
         fcb   $4E N
         fcb   $4B K
         fcb   $20 
         fcb   $66 f
         fcb   $6F o
         fcb   $72 r
         fcb   $20 
         fcb   $41 A
         fcb   $4C L
         fcb   $4C L
         fcb   $29 )
         fcb   $3A :
         fcb   $0D 
         fcb   $0A 
         fcb   $3E >
L00D6    fcb   $00 
         fcb   $1C 
L00D8    fcb   $0A 
         fcb   $0A 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $50 P
         fcb   $6C l
         fcb   $65 e
         fcb   $61 a
         fcb   $73 s
         fcb   $65 e
         fcb   $20 
         fcb   $65 e
         fcb   $6E n
         fcb   $74 t
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $6D m
         fcb   $65 e
         fcb   $73 s
         fcb   $73 s
         fcb   $61 a
         fcb   $67 g
         fcb   $65 e
         fcb   $20 
         fcb   $6E n
         fcb   $6F o
         fcb   $77 w
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $20 
         fcb   $28 (
         fcb   $42 B
         fcb   $6C l
         fcb   $61 a
         fcb   $6E n
         fcb   $6B k
         fcb   $20 
         fcb   $6C l
         fcb   $69 i
         fcb   $6E n
         fcb   $65 e
         fcb   $20 
         fcb   $65 e
         fcb   $6E n
         fcb   $64 d
         fcb   $73 s
         fcb   $29 )
         fcb   $0D 
L0114    fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $2D -
         fcb   $0D 
L0155    fcb   $2F /
         fcb   $64 d
         fcb   $64 d
         fcb   $2F /
         fcb   $62 b
         fcb   $62 b
         fcb   $73 s
         fcb   $2F /
         fcb   $42 B
         fcb   $42 B
         fcb   $53 S
         fcb   $2E .
         fcb   $61 a
         fcb   $6C l
         fcb   $69 i
         fcb   $61 a
         fcb   $73 s
         fcb   $0D 
L0167    fcb   $0A 
         fcb   $5B [
         fcb   $41 A
         fcb   $5D ]
         fcb   $62 b
         fcb   $6F o
         fcb   $72 r
         fcb   $74 t
         fcb   $20 
         fcb   $5B [
         fcb   $44 D
         fcb   $5D ]
         fcb   $6F o
         fcb   $6E n
         fcb   $65 e
         fcb   $20 
         fcb   $5B [
         fcb   $45 E
         fcb   $5D ]
         fcb   $64 d
         fcb   $69 i
         fcb   $74 t
         fcb   $20 
         fcb   $5B [
         fcb   $43 C
         fcb   $5D ]
         fcb   $6F o
         fcb   $6E n
         fcb   $74 t
         fcb   $69 i
         fcb   $6E n
         fcb   $75 u
         fcb   $65 e
         fcb   $20 
         fcb   $6F o
         fcb   $72 r
         fcb   $20 
         fcb   $5B [
         fcb   $4C L
         fcb   $5D ]
         fcb   $69 i
         fcb   $73 s
         fcb   $74 t
         fcb   $0D 
L0193    fcb   $45 E
         fcb   $6E n
         fcb   $74 t
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $6C l
         fcb   $69 i
         fcb   $6E n
         fcb   $65 e
         fcb   $20 
         fcb   $23 #
         fcb   $0D 
L01A0    fcb   $3E >
L01A1    fcb   $0A 
         fcb   $0D 
L01A3    fcb   $08 
         fcb   $20 
         fcb   $08 
L01A6    fcb   $2F /
         fcb   $64 d
         fcb   $64 d
         fcb   $2F /
         fcb   $62 b
         fcb   $62 b
         fcb   $73 s
         fcb   $2F /
         fcb   $42 B
         fcb   $42 B
         fcb   $53 S
         fcb   $2E .
         fcb   $75 u
         fcb   $73 s
         fcb   $65 e
         fcb   $72 r
         fcb   $73 s
         fcb   $74 t
         fcb   $61 a
         fcb   $74 t
         fcb   $73 s
         fcb   $0D 
L01BC    fcb   $55 U
         fcb   $73 s
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $6E n
         fcb   $61 a
         fcb   $6D m
         fcb   $65 e
         fcb   $20 
         fcb   $6E n
         fcb   $6F o
         fcb   $74 t
         fcb   $20 
         fcb   $66 f
         fcb   $6F o
         fcb   $75 u
         fcb   $6E n
         fcb   $64 d
         fcb   $21 !
         fcb   $0D 
start    equ   *
         clr   >u00E8,u
         clr   >u00E2,u
         clr   u0006,u
         os9   F$ID     
         lbcs  L066A
         sty   u0008,u
         ldy   #$0000
         os9   F$SUser  
         lbcs  L066A
         leax  >L0080,pcr
         lda   #$01
         os9   I$Open   
         lbcs  L066A
         sta   ,u
         leax  >u00E9,u
         ldy   #$0040
         lda   ,u
         os9   I$Read   
         lbcs  L066A
         lda   ,u
         os9   I$Close  
         leax  >L0080,pcr
         lda   #$03
         os9   I$Open   
         lbcs  L066A
         sta   ,u
         lda   #$06
         sta   u0003,u
         ldd   >u00E9,u
         addd  #$0001
         std   >u00E9,u
         clr   u000C,u
         clr   u000D,u
L0237    lslb  
         rola  
         rol   u000D,u
         dec   u0003,u
         bne   L0237
         std   u000E,u
         lda   ,u
         ldx   u000C,u
         pshs  u
         ldu   u000E,u
         os9   I$Seek   
         lbcs  L066A
         puls  u
         leax  >u015F,u
         os9   F$Time   
         leax  >L0094,pcr
         ldy   >L00D6,pcr
         lda   #$01
         os9   I$Write  
         lbcs  L066A
         clra  
         leax  >u0141,u
         ldy   #$001E
         os9   I$ReadLn 
         leax  >L0155,pcr
         lda   #$01
         os9   I$Open   
         lbcs  L066A
         sta   u0002,u
L0286    leax  >L00B0,pcr
         ldy   #$0026
         lda   #$01
         os9   I$Write  
         leax  >u0189,u
         ldy   #$00C8
         clra  
         os9   I$ReadLn 
         cmpy  #$0001
         ble   L030D
L02A5    lda   ,x+
         anda  #$DF
         sta   -$01,x
         cmpa  #$0D
         bne   L02A5
L02AF    leax  <u001A,u
         ldy   #$00C8
         lda   u0002,u
         os9   I$ReadLn 
         bcs   L02F0
         leay  >u0189,u
         leax  <u001A,u
L02C4    lda   ,x+
         cmpa  #$2C
         beq   L02D2
         anda  #$DF
         cmpa  ,y+
         bne   L02AF
         bra   L02C4
L02D2    lda   ,y+
         cmpa  #$0D
         bne   L02AF
         lbsr  L07FD
         std   >u0167,u
         lda   u0002,u
         pshs  u
         ldu   #$0000
         ldx   #$0000
         os9   I$Seek   
         puls  u
         bra   L0314
L02F0    leax  >L01BC,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         lda   u0002,u
         pshs  u
         ldu   #$0000
         ldx   #$0000
         os9   I$Seek   
         lbra  L0286
L030D    ldd   #$FFFF
         std   >u0167,u
L0314    leax  >L00D8,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         lbcs  L066A
         leax  >L0114,pcr
         ldy   #$0050
         os9   I$WritLn 
         lbcs  L066A
         ldd   #$0000
         std   u000A,u
L0339    ldd   u000A,u
         addd  #$0001
         std   u000A,u
         cmpd  #$0063
         bge   L0351
         lbsr  L0461
         cmpy  #$0001
         bls   L0351
         bra   L0339
L0351    leax  >L0167,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         leax  >L01A0,pcr
         ldy   #$0001
         os9   I$Write  
         leax  u0005,u
         clra  
         ldy   #$0001
         os9   I$Read   
         leax  >L01A1,pcr
         ldy   #$0001
         lda   #$01
         os9   I$WritLn 
         lda   u0005,u
         anda  #$DF
         cmpa  #$41
         lbeq  L0663
         cmpa  #$44
         lbeq  L04B6
         cmpa  #$45
         beq   L03A9
         cmpa  #$43
         beq   L03A0
         cmpa  #$4C
         lbeq  L0420
         bra   L0351
L03A0    ldd   u000A,u
         subd  #$0001
         std   u000A,u
         bra   L0339
L03A9    leax  >L0193,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         leax  >L01A0,pcr
         ldy   #$0001
         os9   I$Write  
         clra  
         leax  >u00E3,u
         ldy   #$0003
         os9   I$ReadLn 
         lbsr  L07FD
         cmpd  u000A,u
         lbcc  L0351
         std   <u0018,u
         leax  >u00E3,u
         lbsr  L086D
         leax  >u00E3,u
         lda   #$3A
         sta   $02,x
         ldy   #$0003
         lda   #$01
         os9   I$Write  
         ldd   <u0018,u
         leax  >u0251,u
         lda   #$50
         mul   
         leax  d,x
         ldy   #$0050
         lda   #$01
         os9   I$WritLn 
         tfr   y,d
         stb   u0006,u
         dec   u0006,u
         leay  >u2191,u
L0411    lda   ,x+
         sta   ,y+
         decb  
         bne   L0411
         ldd   <u0018,u
         bsr   L0461
         lbra  L0351
L0420    ldd   #$0000
         std   u000A,u
L0425    ldd   u000A,u
         addd  #$0001
         std   u000A,u
         leax  >u00E3,u
         lbsr  L086D
         leax  >u00E3,u
         lda   #$3A
         sta   $02,x
         lda   #$01
         ldy   #$0003
         os9   I$Write  
         leax  >u0251,u
         ldd   u000A,u
         lda   #$50
         mul   
         leax  d,x
         ldy   #$0050
         lda   #$01
         os9   I$WritLn 
         cmpy  #$0001
         bhi   L0425
         lbra  L0351
L0461    leax  >u00E3,u
         pshs  b,a
         lbsr  L086D
         leax  >u00E3,u
         lda   #$3A
         sta   $02,x
         lda   #$01
         ldy   #$0003
         os9   I$Write  
         lbcs  L066A
         leax  >u2191,u
         ldb   u0006,u
         clra  
         tfr   d,y
         lda   #$01
         os9   I$Write  
         puls  b,a
         lda   #$50
         mul   
         leax  >u0251,u
         leax  d,x
         leay  >u2191,u
         ldb   #$50
         lda   u0006,u
         beq   L04AF
         sta   <u0014,u
L04A5    lda   ,y+
         sta   ,x+
         decb  
         dec   <u0014,u
         bne   L04A5
L04AF    clra  
         tfr   d,y
         lbsr  L066D
         rts   
L04B6    leax  <u001A,u
         ldy   #$00C8
         lda   u0002,u
         os9   I$ReadLn 
         lbcs  L066A
L04C6    lda   ,x+
         cmpa  #$2C
         bne   L04C6
         lbsr  L07FD
         cmpd  u0008,u
         bne   L04B6
         leax  <u001A,u
         leay  >u012D,u
L04DB    lda   ,x+
         cmpa  #$2C
         beq   L04E5
         sta   ,y+
         bra   L04DB
L04E5    lda   #$0D
         sta   ,y
         ldd   >u00EB,u
         std   >u0129,u
         ldd   >u00ED,u
         std   >u012B,u
         ldd   u0008,u
         std   >u0165,u
         leax  >u0129,u
         lda   ,u
         ldy   #$0040
         os9   I$Write  
         lbcs  L066A
         leax  >L008C,pcr
         lda   #$03
         os9   I$Open   
         lbcs  L066A
         sta   u0001,u
         pshs  u
         ldx   >u00EB,u
         lda   u0001,u
         ldu   >u00ED,u
         os9   I$Seek   
         lbcs  L066A
         puls  u
         lda   #$00
         sta   <u0010,u
         ldd   #$0001
         std   <u0012,u
L053F    lda   <u0010,u
         inca  
         sta   <u0010,u
         cmpa  u000B,u
         bhi   L0570
         ldb   #$50
         mul   
         leax  >u0251,u
         leax  d,x
         ldy   #$0050
         lda   u0001,u
         os9   I$WritLn 
         lbcs  L066A
         cmpy  #$0001
         bls   L0570
         tfr   y,d
         addd  <u0012,u
         std   <u0012,u
         bra   L053F
L0570    ldd   >u00ED,u
         addd  <u0012,u
         std   >u00ED,u
         bcc   L0588
         ldd   >u00EB,u
         addd  #$0001
         std   >u00EB,u
L0588    pshs  u
         lda   ,u
         ldx   #$0000
         ldu   #$0000
         os9   I$Seek   
         lbcs  L066A
         puls  u
         leax  >u00E9,u
         ldy   #$0040
         lda   ,u
         os9   I$Write  
         lbcs  L066A
         leax  >L01A6,pcr
         lda   #$03
         os9   I$Open   
         bcc   L05C0
         ldb   #$1B
         os9   I$Create 
         lbcs  L066A
L05C0    sta   u0007,u
L05C2    leax  >u0169,u
         ldy   #$0020
         lda   u0007,u
         os9   I$Read   
         bcs   L05DC
         ldd   >u0169,u
         cmpd  u0008,u
         bne   L05C2
         bra   L05E5
L05DC    cmpb  #$D3
         lbne  L066A
         lbra  L0623
L05E5    ldd   >u0173,u
         addd  #$0001
         std   >u0173,u
         lda   u0007,u
         ldb   #$05
         pshs  u
         os9   I$GetStt 
         tfr   u,d
         subd  #$0020
         bge   L0602
         leax  -$01,x
L0602    ldu   ,s
         tfr   d,y
         lda   u0007,u
         tfr   y,u
         os9   I$Seek   
         lbcs  L066A
         puls  u
         leax  >u0169,u
         ldy   #$0020
         lda   u0007,u
         os9   I$Write  
         lbra  L0663
L0623    leax  >u0169,u
         ldd   #$0001
         std   >u016B,u
         ldd   #$0000
         std   >u0173,u
         std   >u0175,u
         std   >u0179,u
         std   >u0177,u
         ldd   u0008,u
         std   >u0169,u
         leax  >u016D,u
         os9   F$Time   
         lbcs  L066A
         leax  >u0169,u
         ldy   #$0020
         lda   u0007,u
         os9   I$Write  
         lbcs  L066A
L0663    clrb  
         ldy   u0008,u
         os9   F$SUser  
L066A    os9   F$Exit   
L066D    lbsr  L07C6
         ldb   u0006,u
         leay  b,y
         pshs  y
         negb  
         sex   
         leay  d,y
         clr   u0006,u
         cmpy  #$0000
         lbeq  L073C
         pshs  y,x
         lda   #$0D
L0688    sta   ,x+
         leay  -$01,y
         bne   L0688
         puls  y,x
L0690    pshs  y,x
         leax  u0005,u
         ldy   #$0001
         clra  
         os9   I$Read   
         bcs   L06C9
         lda   u0005,u
         cmpa  #$01
         beq   L06CD
         cmpa  #$08
         beq   L06EF
         cmpa  #$18
         beq   L0713
         cmpa  #$0D
         lbeq  L073A
         cmpa  #$20
         bcs   L06C9
         lda   #$01
         os9   I$Write  
         puls  y,x
         lda   u0005,u
         sta   ,x+
         leay  -$01,y
         lbeq  L0763
         bra   L0690
L06C9    puls  y,x
         bra   L0690
L06CD    puls  y,x
         leay  -$01,y
         beq   L06EA
         lda   ,x+
         cmpa  #$0D
         beq   L06E8
         pshs  y,x
         leax  -$01,x
         ldy   #$0001
         lda   #$01
         os9   I$Write  
         bra   L06CD
L06E8    leax  -$01,x
L06EA    leay  $01,y
         lbra  L0690
L06EF    puls  y,x
         leay  $01,y
         cmpy  ,s
         bhi   L070E
         pshs  y,x
         leax  >L01A3,pcr
         ldy   #$0003
         lda   #$01
         os9   I$Write  
         puls  y,x
         leax  -$01,x
         lbra  L0690
L070E    leay  -$01,y
         lbra  L0690
L0713    puls  y,x
         leay  $01,y
         cmpy  ,s
         bhi   L070E
         pshs  y,x
         leax  >L01A3,pcr
         ldy   #$0003
         lda   #$01
         os9   I$Write  
         puls  y,x
         leax  -$01,x
         cmpy  ,s
         lbhi  L0690
         pshs  y,x
         bra   L0713
L073A    puls  y,x
L073C    lda   #$0D
         sta   ,x+
         pshs  y,x
         leax  >L01A1,pcr
         ldy   #$0001
         lda   #$01
         os9   I$WritLn 
         puls  y,x
         puls  b,a
         pshs  y
         subd  ,s
         leas  $02,s
         tfr   d,y
         leay  $01,y
         lbsr  L07E0
         rts   
         puls  y,x
L0763    puls  b,a
         pshs  y
         subd  ,s
         leas  $02,s
         addd  #$0001
         tfr   d,y
         clrb  
L0771    leay  -$01,y
         beq   L078F
         lda   ,-x
         cmpa  #$20
         beq   L07A0
         pshs  y,x
         leax  >L01A3,pcr
         ldy   #$0003
         lda   #$01
         os9   I$Write  
         incb  
         puls  y,x
         bra   L0771
L078F    lda   #$0D
         sta   <$4F,x
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         puls  y
         rts   
L07A0    lda   #$0D
         sta   ,x+
         pshs  y,x
         stb   u0006,u
         leay  >u2191,u
L07AC    lda   ,x+
         sta   ,y+
         decb  
         bne   L07AC
         leax  >L01A1,pcr
         ldy   #$0001
         lda   #$01
         os9   I$WritLn 
         puls  y,x
         lbsr  L07E0
         rts   
L07C6    pshs  y,x,b,a
         leax  >u21E1,u
         clra  
         ldb   #$00
         os9   I$GetStt 
         leax  <-$20,x
         clr   <$24,x
         leax  <$20,x
         os9   I$SetStt 
         puls  pc,y,x,b,a
L07E0    pshs  y,x,b,a
         leax  >u21E1,u
         clra  
         ldb   #$00
         os9   I$GetStt 
         leax  <-$20,x
         lda   #$01
         sta   <$24,x
         leax  <$20,x
         clra  
         os9   I$SetStt 
         puls  pc,y,x,b,a
L07FD    pshs  y
L07FF    lda   ,x+
         cmpa  #$0D
         lbeq  L08A6
         cmpa  #$30
         bcs   L07FF
         cmpa  #$39
         bhi   L07FF
         leax  -$01,x
L0811    lda   ,x+
         cmpa  #$30
         bcs   L081D
         cmpa  #$39
         bhi   L081D
         bra   L0811
L081D    pshs  x
         leax  -$01,x
         clr   <u0014,u
         clr   <u0015,u
         ldd   #$0001
         std   <u0016,u
L082D    lda   ,-x
         cmpa  #$30
         bcs   L0866
         cmpa  #$39
         bhi   L0866
         suba  #$30
         sta   u0004,u
         ldd   #$0000
L083E    tst   u0004,u
         beq   L0849
         addd  <u0016,u
         dec   u0004,u
         bra   L083E
L0849    addd  <u0014,u
         std   <u0014,u
         lda   #$0A
         sta   u0004,u
         ldd   #$0000
L0856    tst   u0004,u
         beq   L0861
         addd  <u0016,u
         dec   u0004,u
         bra   L0856
L0861    std   <u0016,u
         bra   L082D
L0866    ldd   <u0014,u
         puls  x
         puls  pc,y
L086D    pshs  y
         std   <u0014,u
         lda   #$30
         sta   ,x
         sta   $01,x
         ldd   #$000A
         std   <u0016,u
         ldd   <u0014,u
         bsr   L0894
         ldd   #$0001
         std   <u0016,u
         ldd   <u0014,u
         bsr   L0894
         lda   #$0D
         sta   ,x
         puls  pc,y
L0894    subd  <u0016,u
         bcs   L089D
         inc   ,x
         bra   L0894
L089D    addd  <u0016,u
         std   <u0014,u
         leax  $01,x
         rts   
L08A6    ldd   #$FFFF
         puls  pc,y
         emod
eom      equ   *
         end
