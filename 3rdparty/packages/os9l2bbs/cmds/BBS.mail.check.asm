         nam   BBS.mail.check
         ttl   program module       

* Disassembled 2010/01/24 10:32:41 by Disasm v1.5 (C) 1988 by RML

         ifp1
         use   /dd/defs/defsfile
         endc
tylg     set   Prgrm+Objct   
atrv     set   ReEnt+rev
rev      set   $01
         mod   eom,name,tylg,atrv,start,size
u0000    rmb   3
u0003    rmb   1
u0004    rmb   2
u0006    rmb   1
u0007    rmb   3
u000A    rmb   1
u000B    rmb   1
u000C    rmb   2
u000E    rmb   34
u0030    rmb   64
u0070    rmb   160
u0110    rmb   60
u014C    rmb   2
u014E    rmb   202
size     equ   .
name     equ   *
         fcs   /BBS.mail.check/
         fcb   $43 C
         fcb   $6F o
         fcb   $70 p
         fcb   $79 y
         fcb   $72 r
         fcb   $69 i
         fcb   $67 g
         fcb   $68 h
         fcb   $74 t
         fcb   $20 
         fcb   $28 (
         fcb   $43 C
         fcb   $29 )
         fcb   $20 
         fcb   $31 1
         fcb   $39 9
         fcb   $38 8
         fcb   $38 8
         fcb   $42 B
         fcb   $79 y
         fcb   $20 
         fcb   $4B K
         fcb   $65 e
         fcb   $69 i
         fcb   $74 t
         fcb   $68 h
         fcb   $20 
         fcb   $41 A
         fcb   $6C l
         fcb   $70 p
         fcb   $68 h
         fcb   $6F o
         fcb   $6E n
         fcb   $73 s
         fcb   $6F o
         fcb   $4C L
         fcb   $69 i
         fcb   $63 c
         fcb   $65 e
         fcb   $6E n
         fcb   $63 c
         fcb   $65 e
         fcb   $64 d
         fcb   $20 
         fcb   $74 t
         fcb   $6F o
         fcb   $20 
         fcb   $41 A
         fcb   $6C l
         fcb   $70 p
         fcb   $68 h
         fcb   $61 a
         fcb   $20 
         fcb   $53 S
         fcb   $6F o
         fcb   $66 f
         fcb   $74 t
         fcb   $77 w
         fcb   $61 a
         fcb   $72 r
         fcb   $65 e
         fcb   $20 
         fcb   $54 T
         fcb   $65 e
         fcb   $63 c
         fcb   $68 h
         fcb   $6E n
         fcb   $6F o
         fcb   $6C l
         fcb   $6F o
         fcb   $67 g
         fcb   $69 i
         fcb   $65 e
         fcb   $73 s
         fcb   $41 A
         fcb   $6C l
         fcb   $6C l
         fcb   $20 
         fcb   $72 r
         fcb   $69 i
         fcb   $67 g
         fcb   $68 h
         fcb   $74 t
         fcb   $73 s
         fcb   $20 
         fcb   $72 r
         fcb   $65 e
         fcb   $73 s
         fcb   $65 e
         fcb   $72 r
         fcb   $76 v
         fcb   $65 e
         fcb   $64 d
         fcb   $EC l
         fcb   $E6 f
         fcb   $EA j
         fcb   $F5 u
         fcb   $E9 i
         fcb   $A0 
         fcb   $E2 b
         fcb   $ED m
         fcb   $F1 q
         fcb   $E9 i
         fcb   $F0 p
         fcb   $EF o
         fcb   $F4 t
         fcb   $F0 p
L0086    fcb   $42 B
         fcb   $42 B
         fcb   $53 S
         fcb   $2E .
         fcb   $6D m
         fcb   $61 a
         fcb   $69 i
         fcb   $6C l
         fcb   $2E .
         fcb   $69 i
         fcb   $6E n
         fcb   $78 x
         fcb   $0D 
         fcb   $42 B
         fcb   $42 B
         fcb   $53 S
         fcb   $2E .
         fcb   $6D m
         fcb   $61 a
         fcb   $69 i
         fcb   $6C l
         fcb   $0D 
L009C    fcb   $2F /
         fcb   $64 d
         fcb   $64 d
         fcb   $2F /
         fcb   $62 b
         fcb   $62 b
         fcb   $73 s
         fcb   $2F /
         fcb   $42 B
         fcb   $42 B
         fcb   $53 S
         fcb   $2E .
         fcb   $61 a
         fcb   $6C l
         fcb   $69 i
         fcb   $61 a
         fcb   $73 s
         fcb   $0D 
         fcb   $0A 
         fcb   $0D 
L00B0    fcb   $0A 
         fcb   $43 C
         fcb   $68 h
         fcb   $65 e
         fcb   $63 c
         fcb   $6B k
         fcb   $69 i
         fcb   $6E n
         fcb   $67 g
         fcb   $20 
         fcb   $6D m
         fcb   $61 a
         fcb   $69 i
         fcb   $6C l
         fcb   $62 b
         fcb   $6F o
         fcb   $78 x
         fcb   $2E .
         fcb   $2E .
         fcb   $2E .
         fcb   $0D 
L00C5    fcb   $0A 
         fcb   $41 A
         fcb   $6C l
         fcb   $6C l
         fcb   $20 
         fcb   $70 p
         fcb   $72 r
         fcb   $65 e
         fcb   $76 v
         fcb   $69 i
         fcb   $6F o
         fcb   $75 u
         fcb   $73 s
         fcb   $6C l
         fcb   $79 y
         fcb   $20 
         fcb   $73 s
         fcb   $65 e
         fcb   $6E n
         fcb   $74 t
         fcb   $20 
         fcb   $6D m
         fcb   $61 a
         fcb   $69 i
         fcb   $6C l
         fcb   $20 
         fcb   $68 h
         fcb   $61 a
         fcb   $73 s
         fcb   $20 
         fcb   $62 b
         fcb   $65 e
         fcb   $65 e
         fcb   $6E n
         fcb   $20 
         fcb   $72 r
         fcb   $65 e
         fcb   $61 a
         fcb   $64 d
         fcb   $2E .
         fcb   $0D 
L00EE    fcb   $4D M
         fcb   $61 a
         fcb   $69 i
         fcb   $6C l
         fcb   $20 
         fcb   $74 t
         fcb   $6F o
         fcb   $20 
L00F6    fcb   $20 
         fcb   $68 h
         fcb   $61 a
         fcb   $73 s
         fcb   $20 
         fcb   $6E n
         fcb   $6F o
         fcb   $74 t
         fcb   $20 
         fcb   $79 y
         fcb   $65 e
         fcb   $74 t
         fcb   $20 
         fcb   $62 b
         fcb   $65 e
         fcb   $65 e
         fcb   $6E n
         fcb   $20 
         fcb   $72 r
         fcb   $65 e
         fcb   $61 a
         fcb   $64 d
         fcb   $2E .
         fcb   $0D 
start    equ   *
         os9   F$ID     
         sty   u000E,u
         ldy   #$0000
         os9   F$SUser  
         leax  >L0086,pcr
         lda   #$01
         os9   I$Open   
         lbcs  L01F3
         sta   ,u
         clr   u0004,u
         leax  >L009C,pcr
         lda   #$01
         os9   I$Open   
         lbcs  L01F3
         sta   u0007,u
         leax  >L00B0,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         leax  <u0030,u
         ldy   #$0040
         lda   ,u
         os9   I$Read   
         lbcs  L01F3
L0158    leax  >u0110,u
         ldy   #$0040
         lda   ,u
         os9   I$Read   
         bcs   L0172
         ldd   >u014C,u
         cmpd  u000E,u
         bne   L0158
         bra   L018F
L0172    cmpb  #$D3
         lbne  L01F3
         tst   u0004,u
         beq   L017F
         lbra  L01F2
L017F    leax  >L00C5,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         lbra  L01F2
L018F    inc   <u0004
         pshs  u
         lda   u0007,u
         ldx   #$0000
         ldu   #$0000
         os9   I$Seek   
         puls  u
         lbcs  L01F3
L01A4    lda   u0007,u
         ldy   #$00C8
         leax  <u0070,u
         os9   I$ReadLn 
         lbcs  L0158
         clr   u0006,u
L01B6    inc   u0006,u
         lda   ,x+
         cmpa  #$2C
         bne   L01B6
         dec   u0006,u
         lbsr  L0200
         cmpd  >u014E,u
         bne   L01A4
         leax  >L00EE,pcr
         ldy   #$0008
         lda   #$01
         os9   I$Write  
         leax  <u0070,u
         ldb   u0006,u
         clra  
         tfr   d,y
         lda   #$01
         os9   I$Write  
         leax  >L00F6,pcr
         ldy   #$00C8
         os9   I$WritLn 
         lbra  L0158
L01F2    clrb  
L01F3    pshs  b
         ldy   u000E,u
         os9   F$SUser  
         puls  b
         os9   F$Exit   
L0200    pshs  y
L0202    lda   ,x+
         cmpa  #$0D
         lbeq  L02D5
         cmpa  #$30
         bcs   L0202
         cmpa  #$39
         bhi   L0202
         leax  -$01,x
L0214    lda   ,x+
         cmpa  #$30
         bcs   L0220
         cmpa  #$39
         bhi   L0220
         bra   L0214
L0220    pshs  x
         leax  -$01,x
         clr   u000A,u
         clr   u000B,u
         ldd   #$0001
         std   u000C,u
L022D    lda   ,-x
         cmpa  #$30
         bcs   L0261
         cmpa  #$39
         bhi   L0261
         suba  #$30
         sta   u0003,u
         ldd   #$0000
L023E    tst   u0003,u
         beq   L0248
         addd  u000C,u
         dec   u0003,u
         bra   L023E
L0248    addd  u000A,u
         std   u000A,u
         lda   #$0A
         sta   u0003,u
         ldd   #$0000
L0253    tst   u0003,u
         beq   L025D
         addd  u000C,u
         dec   u0003,u
         bra   L0253
L025D    std   u000C,u
         bra   L022D
L0261    ldd   u000A,u
         puls  x
         puls  pc,y
         pshs  x
         std   u000A,u
         lda   #$30
         sta   ,x
         sta   $01,x
         sta   $02,x
         sta   $03,x
         sta   $04,x
         ldd   #$2710
         std   u000C,u
         ldd   u000A,u
         lbsr  L02C6
         ldd   #$03E8
         std   u000C,u
         ldd   u000A,u
         bsr   L02C6
         ldd   #$0064
         std   u000C,u
         ldd   u000A,u
         bsr   L02C6
         ldd   #$000A
         std   u000C,u
         ldd   u000A,u
         bsr   L02C6
         ldd   #$0001
         std   u000C,u
         ldd   u000A,u
         bsr   L02C6
         lda   #$0D
         sta   ,x
         puls  x
         ldb   #$20
L02AD    lda   ,x
         cmpa  #$30
         bne   L02B7
         stb   ,x+
         bra   L02AD
L02B7    lda   ,x+
         cmpa  #$30
         bcs   L02C3
         cmpa  #$39
         bhi   L02C3
         bra   L02B7
L02C3    leax  -$01,x
         rts   
L02C6    subd  u000C,u
         bcs   L02CE
         inc   ,x
         bra   L02C6
L02CE    addd  u000C,u
         std   u000A,u
         leax  $01,x
         rts   
L02D5    ldd   #$FFFF
         puls  pc,y
         emod
eom      equ   *
         end
