         nam   Uloadxc
         ttl   program module       

* Disassembled 2010/01/24 10:50:36 by Disasm v1.5 (C) 1988 by RML

         ifp1
         use   defsfile
         endc
tylg     set   Prgrm+Objct   
atrv     set   ReEnt+rev
rev      set   $01
         mod   eom,name,tylg,atrv,start,size
u0000    rmb   1
u0001    rmb   1
u0002    rmb   1
u0003    rmb   1
u0004    rmb   1
u0005    rmb   1
u0006    rmb   1
u0007    rmb   1
u0008    rmb   1
u0009    rmb   1
u000A    rmb   1
u000B    rmb   2
u000D    rmb   32
u002D    rmb   1
u002E    rmb   1
u002F    rmb   128
u00AF    rmb   2
u00B1    rmb   32
u00D1    rmb   432
size     equ   .
name     equ   *
         fcs   /Uloadxc/
         fcb   $43 C
         fcb   $6F o
         fcb   $70 p
         fcb   $79 y
         fcb   $72 r
         fcb   $69 i
         fcb   $67 g
         fcb   $68 h
         fcb   $74 t
         fcb   $20 
         fcb   $28 (
         fcb   $43 C
         fcb   $29 )
         fcb   $20 
         fcb   $31 1
         fcb   $39 9
         fcb   $38 8
         fcb   $38 8
         fcb   $42 B
         fcb   $79 y
         fcb   $20 
         fcb   $4B K
         fcb   $65 e
         fcb   $69 i
         fcb   $74 t
         fcb   $68 h
         fcb   $20 
         fcb   $41 A
         fcb   $6C l
         fcb   $70 p
         fcb   $68 h
         fcb   $6F o
         fcb   $6E n
         fcb   $73 s
         fcb   $6F o
         fcb   $4C L
         fcb   $69 i
         fcb   $63 c
         fcb   $65 e
         fcb   $6E n
         fcb   $63 c
         fcb   $65 e
         fcb   $64 d
         fcb   $20 
         fcb   $74 t
         fcb   $6F o
         fcb   $20 
         fcb   $41 A
         fcb   $6C l
         fcb   $70 p
         fcb   $68 h
         fcb   $61 a
         fcb   $20 
         fcb   $53 S
         fcb   $6F o
         fcb   $66 f
         fcb   $74 t
         fcb   $77 w
         fcb   $61 a
         fcb   $72 r
         fcb   $65 e
         fcb   $20 
         fcb   $54 T
         fcb   $65 e
         fcb   $63 c
         fcb   $68 h
         fcb   $6E n
         fcb   $6F o
         fcb   $6C l
         fcb   $6F o
         fcb   $67 g
         fcb   $69 i
         fcb   $65 e
         fcb   $73 s
         fcb   $41 A
         fcb   $6C l
         fcb   $6C l
         fcb   $20 
         fcb   $72 r
         fcb   $69 i
         fcb   $67 g
         fcb   $68 h
         fcb   $74 t
         fcb   $73 s
         fcb   $20 
         fcb   $72 r
         fcb   $65 e
         fcb   $73 s
         fcb   $65 e
         fcb   $72 r
         fcb   $76 v
         fcb   $65 e
         fcb   $64 d
         fcb   $EC l
         fcb   $E6 f
         fcb   $EA j
         fcb   $F5 u
         fcb   $E9 i
         fcb   $A0 
         fcb   $E2 b
         fcb   $ED m
         fcb   $F1 q
         fcb   $E9 i
         fcb   $F0 p
         fcb   $EF o
         fcb   $F4 t
         fcb   $F0 p
L007F    fcb   $46 F
         fcb   $69 i
         fcb   $6C l
         fcb   $65 e
         fcb   $20 
         fcb   $6F o
         fcb   $70 p
         fcb   $65 e
         fcb   $6E n
         fcb   $2C ,
         fcb   $20 
         fcb   $72 r
         fcb   $65 e
         fcb   $61 a
         fcb   $64 d
         fcb   $79 y
         fcb   $20 
         fcb   $74 t
         fcb   $6F o
         fcb   $20 
         fcb   $72 r
         fcb   $65 e
         fcb   $63 c
         fcb   $69 i
         fcb   $65 e
         fcb   $76 v
         fcb   $65 e
         fcb   $2E .
         fcb   $2E .
         fcb   $2E .
         fcb   $0D 
L009E    fcb   $45 E
         fcb   $6E n
         fcb   $74 t
         fcb   $65 e
         fcb   $72 r
         fcb   $20 
         fcb   $66 f
         fcb   $69 i
         fcb   $6C l
         fcb   $65 e
         fcb   $6E n
         fcb   $61 a
         fcb   $6D m
         fcb   $65 e
         fcb   $20 
         fcb   $74 t
         fcb   $6F o
         fcb   $20 
         fcb   $75 u
         fcb   $70 p
         fcb   $6C l
         fcb   $6F o
         fcb   $61 a
         fcb   $64 d
         fcb   $3A :
         fcb   $20 
L00B8    fcb   $55 U
         fcb   $70 p
         fcb   $6C l
         fcb   $6F o
         fcb   $61 a
         fcb   $64 d
         fcb   $20 
         fcb   $61 a
         fcb   $62 b
         fcb   $6F o
         fcb   $72 r
         fcb   $74 t
         fcb   $65 e
         fcb   $64 d
         fcb   $21 !
         fcb   $0D 
L00C8    fcb   $55 U
         fcb   $70 p
         fcb   $6C l
         fcb   $6F o
         fcb   $61 a
         fcb   $64 d
         fcb   $20 
         fcb   $73 s
         fcb   $75 u
         fcb   $63 c
         fcb   $63 c
         fcb   $65 e
         fcb   $73 s
         fcb   $73 s
         fcb   $66 f
         fcb   $75 u
         fcb   $6C l
         fcb   $21 !
         fcb   $0D 
start    equ   *
         pshs  x
         os9   F$ID     
         ldb   #$FF
         os9   F$SPrior 
         lda   ,x
         cmpa  #$0D
         bne   L0102
         leax  >L009E,pcr
         ldy   #$0019
         lda   #$01
         os9   I$Write  
         leax  u000D,u
         ldy   #$0020
         clra  
         os9   I$ReadLn 
L0102    stx   u000B,u
         lda   #$02
         ldb   #$1B
         os9   I$Create 
         lbcs  L0320
         sta   u0001,u
         clr   u0003,u
         clr   u0002,u
         clr   >u00AF,u
         dec   >u00AF,u
         leax  >L007F,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         lda   #$04
         sta   u0006,u
         leax  >u00B1,u
         clra  
         clrb  
         os9   I$GetStt 
         lbcs  L0320
         leax  >u00D1,u
         clra  
         clrb  
         os9   I$GetStt 
         lbcs  L0320
         leax  >u00D1,u
         leax  <-$20,x
         clr   <$2B,x
         clr   <$2C,x
         clr   <$2E,x
         clr   <$2F,x
         clr   <$30,x
         clr   <$31,x
         clr   <$38,x
         clr   <$39,x
         clr   <$24,x
         clr   <$2D,x
         clr   <$27,x
         clr   <$28,x
         clr   <$29,x
         clra  
         clrb  
         leax  >u00D1,u
         os9   I$SetStt 
L017F    tst   u0006,u
         beq   L018B
         dec   u0006,u
         lda   #$43
         sta   ,u
         bra   L018F
L018B    lda   #$15
         sta   ,u
L018F    leax  ,u
         lda   #$01
         ldy   #$0001
         os9   I$Write  
         clr   u0004,u
         lda   u0003,u
         inca  
         sta   u0003,u
         cmpa  #$0A
         bcs   L01AA
         ldb   #$01
         lbra  L0319
L01AA    clra  
         ldb   #$01
         os9   I$GetStt 
         bcc   L01C3
         lda   u0004,u
         inca  
         sta   u0004,u
         cmpa  #$FE
         bcc   L017F
         ldx   #$0002
         os9   F$Sleep  
         bra   L01AA
L01C3    leax  ,u
         ldy   #$0001
         clra  
         os9   I$Read   
         lda   ,u
         cmpa  #$01
         beq   L01E1
         cmpa  #$04
         lbeq  L02F4
         cmpa  #$18
         lbeq  L0323
         bra   L01AA
L01E1    leax  <u002D,u
         tst   u0006,u
         beq   L01EC
         lda   #$84
         bra   L01EE
L01EC    lda   #$83
L01EE    sta   u0005,u
         clr   u0004,u
         bsr   L01FD
         lbcs  L018B
         inc   u0002,u
         lbra  L0250
L01FD    clra  
         ldb   #$01
         os9   I$GetStt 
         bcc   L0219
         inc   u0004,u
         lda   u0004,u
         cmpa  #$FF
         bhi   L0232
         pshs  x
         ldx   #$0001
         os9   F$Sleep  
         puls  x
         bra   L01FD
L0219    clr   u0004,u
         clra  
         tfr   d,y
         os9   I$Read   
         bcs   L0236
         tfr   y,d
         leax  b,x
         lda   u0005,u
         stb   u0005,u
         suba  u0005,u
         sta   u0005,u
         bne   L01FD
         rts   
L0232    lda   #$FF
         rola  
         rts   
L0236    pshs  x
         ldx   #$003C
         os9   F$Sleep  
         puls  x
         clra  
         ldb   #$01
         os9   I$GetStt 
         clra  
         tfr   d,y
         os9   I$Read   
         lda   #$FF
         rola  
         rts   
L0250    lda   <u002D,u
         inca  
         cmpa  u0002,u
         lbeq  L02D8
         deca  
         cmpa  u0002,u
         beq   L0264
         dec   u0002,u
         lbra  L018B
L0264    coma  
         cmpa  <u002E,u
         beq   L026F
         dec   u0002,u
         lbra  L018B
L026F    leax  <u002F,u
         tst   u0006,u
         bne   L028B
         ldb   #$80
         clra  
L0279    adda  ,x+
         decb  
         bne   L0279
         cmpa  >u00AF,u
         lbeq  L02CA
         dec   u0002,u
         lbra  L018B
L028B    lda   #$80
         sta   u0007,u
         clra  
         clrb  
         std   u0009,u
L0293    lda   ,x+
         clrb  
         eora  u0009,u
         eorb  u000A,u
         std   u0009,u
         lda   #$08
         sta   u0008,u
L02A0    ldd   u0009,u
         bita  #$80
         beq   L02B0
         lslb  
         rola  
         eora  #$10
         eorb  #$21
         std   u0009,u
         bra   L02B4
L02B0    lslb  
         rola  
         std   u0009,u
L02B4    dec   u0008,u
         bne   L02A0
         dec   u0007,u
         bne   L0293
         ldd   u0009,u
         cmpd  >u00AF,u
         beq   L02CA
         dec   u0002,u
         lbra  L018B
L02CA    lda   u0001,u
         leax  <u002F,u
         ldy   #$0080
         os9   I$Write  
         bra   L02DA
L02D8    dec   u0002,u
L02DA    ldx   #$003C
         os9   F$Sleep  
         lda   #$06
         sta   ,u
         lda   #$01
         leax  ,u
         ldy   #$0001
         os9   I$Write  
         clr   u0003,u
         lbra  L01AA
L02F4    lda   #$06
         sta   ,u
         lda   #$01
         leax  ,u
         ldy   #$0001
         os9   I$Write  
         lda   u0001,u
         os9   I$Close  
         lbsr  L0344
         leax  >L00C8,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         clrb  
L0319    pshs  b
         lbsr  L0344
         puls  b
L0320    os9   F$Exit   
L0323    bsr   L0344
         leax  >L00B8,pcr
         ldy   #$00C8
         lda   #$01
         os9   I$WritLn 
         lda   u0001,u
         os9   I$Close  
         ldx   u000B,u
         os9   I$Delete 
         lbcs  L0319
         ldb   #$01
         bra   L0319
L0344    leax  >u00B1,u
         clra  
         clrb  
         os9   I$SetStt 
         rts   
         emod
eom      equ   *
         end
